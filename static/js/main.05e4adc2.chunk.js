(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{254:function(e,t,a){e.exports=a(386)},270:function(e,t){},272:function(e,t){},309:function(e,t){},310:function(e,t){},386:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"LOADING",(function(){return x})),a.d(n,"TOAST",(function(){return D})),a.d(n,"REGISTER",(function(){return G})),a.d(n,"LOGIN",(function(){return P})),a.d(n,"USER",(function(){return W})),a.d(n,"STATIC",(function(){return F})),a.d(n,"SHOWS",(function(){return M}));var r={};a.r(r),a.d(r,"USER",(function(){return $}));var i={};a.r(i),a.d(i,"startCheckUsernameLoading",(function(){return ge})),a.d(i,"stopCheckUsernameLoading",(function(){return pe})),a.d(i,"startRegisterLoading",(function(){return fe})),a.d(i,"stopRegisterLoading",(function(){return Se})),a.d(i,"startLoginLoading",(function(){return Te})),a.d(i,"stopLoginLoading",(function(){return he})),a.d(i,"startAddShowLoading",(function(){return _e})),a.d(i,"stopAddShowLoading",(function(){return Oe}));var c={};a.r(c),a.d(c,"submitForLogin",(function(){return Ae})),a.d(c,"resetLoginState",(function(){return be}));var o={};a.r(o),a.d(o,"checkUsername",(function(){return ve})),a.d(o,"registerUser",(function(){return Re}));var s={};a.r(s),a.d(s,"getAllShows",(function(){return Le})),a.d(s,"addShows",(function(){return Ie}));var l={};a.r(l),a.d(l,"getAllStatics",(function(){return ye})),a.d(l,"updateTypeData",(function(){return Ne})),a.d(l,"updateLanguageData",(function(){return je})),a.d(l,"updateGenreData",(function(){return we}));var u={};a.r(u),a.d(u,"requestToShowToast",(function(){return Ue})),a.d(u,"showToast",(function(){return Ce})),a.d(u,"hideToast",(function(){return ke}));var m={};a.r(m),a.d(m,"updateUserData",(function(){return xe})),a.d(m,"setUsernameStatus",(function(){return De})),a.d(m,"resetUserData",(function(){return Ge}));var d={};a.r(d),a.d(d,"USERNAME",(function(){return Pe})),a.d(d,"USERNAME_TYPING",(function(){return We})),a.d(d,"URL",(function(){return Fe}));var E={};a.r(E),a.d(E,"CHECK_USERNAME",(function(){return He})),a.d(E,"REGISTER_URL",(function(){return Ye})),a.d(E,"LOGIN_URL",(function(){return Be}));var g={};a.r(g),a.d(g,"MESSAGE_VARIANTS",(function(){return Ve})),a.d(g,"APPLICATION_ERROR_STATUS_CODES",(function(){return ze})),a.d(g,"FILTER_TYPES",(function(){return Ke}));var p={};a.r(p),a.d(p,"getRegisterLoadingState",(function(){return Rt})),a.d(p,"getLoginLoadingState",(function(){return Lt})),a.d(p,"getCheckUsernameLoadingState",(function(){return It}));var f={};a.r(f),a.d(f,"getAllShows",(function(){return Nt}));var S={};a.r(S),a.d(S,"getAllTypes",(function(){return wt})),a.d(S,"getAllLanguages",(function(){return Ut})),a.d(S,"getAllGenres",(function(){return Ct}));var T={};a.r(T),a.d(T,"getToastState",(function(){return xt})),a.d(T,"getToastMessage",(function(){return Dt})),a.d(T,"getToastVariant",(function(){return Gt}));var h={};a.r(h),a.d(h,"isUserLoggedIn",(function(){return Wt})),a.d(h,"getAuthToken",(function(){return Ft})),a.d(h,"getCurrentUserId",(function(){return Mt})),a.d(h,"getCurrentUsername",(function(){return Ht})),a.d(h,"isValidUsername",(function(){return Yt}));var _=a(0),O=a.n(_),A=a(20),b=a.n(A),v=a(459),R=a(65),L=a(215),I=a(57),y=a(118),N=a(54),j=Object(N.a)(),w=a(48),U=a(232),C=a(213),k=a(15),x={START_CHECK_USERNAME_LOADING:"bwg/Loading/START_CHECK_USERNAME_LOADING",STOP_CHECK_USERNAME_LOADING:"bwg/Loading/STOP_CHECK_USERNAME_LOADING",START_REGISTER_LOADING:"bwg/Loading/START_REGISTER_LOADING",STOP_REGISTER_LOADING:"bwg/Loading/STOP_REGISTER_LOADING",START_LOGIN_LOADING:"bwg/Loading/START_LOGIN_LOADING",STOP_LOGIN_LOADING:"bwg/Loading/STOP_LOGIN_LOADING",START_ADD_SHOW_LOADING:"bwg/Loading/START_ADD_SHOW_LOADING",STOP_ADD_SHOW_LOADING:"bwg/Loading/STOP_ADD_SHOW_LOADING"},D={REQUEST_TO_SHOW_TOAST:"bwg/Toast/REQUEST_TO_SHOW_TOAST",SHOW_TOAST:"bwg/Toast/SHOW_TOAST",HIDE_TOAST:"bwg/Toast/HIDE_TOAST"},G={CHECK_USERNAME:"bwg/Register/CHECK_USERNAME",REGISTER_USER:"bwg/Register/REGISTER_USER"},P={SUBMIT_FOR_LOGIN:"bwg/Login/SUBMIT_FOR_LOGIN",RESET_LOGIN_STATE:"bwg/Login/RESET_LOGIN_STATE"},W={UPDATE_USER_DATA:"bwg/User/UPDATE_USER_DATA",SET_USERNAME_STATUS:"bwg/User/SET_USERNAME_STATUS",RESET_USER_DATA:"bwg/User/RESET_USER_DATA"},F={GET_ALL_STATICS:"bwg/Static/GET_ALL_STATICS",UPDATE_TYPE_DATA:"bwg/Static/UPDATE_TYPE_DATA",UPDATE_LANGUAGE_DATA:"bwg/Static/UPDATE_LANGUAGE_DATA",UPDATE_GENRE_DATA:"bwg/Static/UPDATE_GENRE_DATA"},M={GET_ALL_SHOWS:"bwg/Shows/GET_ALL_SHOWS",ADD_SHOWS:"bwg/Shows/ADD_SHOWS"},H={isCheckUsernameLoading:!1,isRegisterSubmitLoading:!1,isLoginSubmitLoading:!1,isAddShowSubmitLoading:!1};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.START_CHECK_USERNAME_LOADING:return Object(k.a)({},e,{isCheckUsernameLoading:!0});case x.STOP_CHECK_USERNAME_LOADING:return Object(k.a)({},e,{isCheckUsernameLoading:!1});case x.START_REGISTER_LOADING:return Object(k.a)({},e,{isRegisterSubmitLoading:!0});case x.STOP_REGISTER_LOADING:return Object(k.a)({},e,{isRegisterSubmitLoading:!1});case x.START_LOGIN_LOADING:return Object(k.a)({},e,{isLoginSubmitLoading:!0});case x.STOP_LOGIN_LOADING:return Object(k.a)({},e,{isLoginSubmitLoading:!1});case x.START_ADD_SHOW_LOADING:return Object(k.a)({},e,{isAddShowSubmitLoading:!0});case x.STOP_ADD_SHOW_LOADING:return Object(k.a)({},e,{isAddShowSubmitLoading:!1});default:return Object(k.a)({},e)}}var B=a(29),V={shows:[]};function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.ADD_SHOWS:var a=e.shows,n=t.payload.shows,r=new Set(n.map((function(e){return e._id}))),i=[].concat(Object(B.a)(n),Object(B.a)(a.filter((function(e){return!r.has(e._id)}))));return Object(k.a)({},e,{shows:Object(B.a)(i)});default:return Object(k.a)({},e)}}var K={types:[],languages:[],genres:[]};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.UPDATE_TYPE_DATA:return Object(k.a)({},e,{types:Object(B.a)(t.payload.types)});case F.UPDATE_LANGUAGE_DATA:return Object(k.a)({},e,{languages:Object(B.a)(t.payload.languages)});case F.UPDATE_GENRE_DATA:return Object(k.a)({},e,{genres:Object(B.a)(t.payload.genres)});default:return Object(k.a)({},e)}}var X={show:!1,message:null,variant:null};function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.REQUEST_TO_SHOW_TOAST:return Object(k.a)({},e,{message:t.payload.message,variant:t.payload.variant});case D.SHOW_TOAST:return Object(k.a)({},e,{show:!0,message:t.payload.message,variant:t.payload.variant});case D.HIDE_TOAST:return Object(k.a)({},e,{show:!1,message:null,variant:null});default:return Object(k.a)({},e)}}var Z=a(217),$={IS_LOGGED_IN:"U_i_l_i",EXPIRE_AT:"U_w_e_b",ID:"U_i",TOKEN:"U_p_k",USERNAME:"U_n"},J=function(e){var t=Object(Z.decode)(e.token),a=t&&1e3*t.exp;localStorage.setItem($.IS_LOGGED_IN,1),localStorage.setItem($.EXPIRE_AT,a),function(e){e._id&&localStorage.setItem($.ID,e._id),e.token&&localStorage.setItem($.TOKEN,e.token),e.username&&localStorage.setItem($.USERNAME,e.username)}(e)},ee=function(){var e=+localStorage.getItem($.IS_LOGGED_IN),t=+localStorage.getItem($.EXPIRE_AT);if(t&&1===e&&new Date(t)>new Date){var a={isLoggedIn:!0};return a.expireAt=+localStorage.getItem($.EXPIRE_AT),a._id=localStorage.getItem($.ID),a.token=localStorage.getItem($.TOKEN),a.username=localStorage.getItem($.USERNAME),{isLoggedIn:!0,userInfo:a}}return{isLoggedIn:!1,userInfo:null}},te=function(){localStorage.removeItem($.IS_LOGGED_IN),localStorage.removeItem($.EXPIRE_AT),localStorage.removeItem($.ID),localStorage.removeItem($.TOKEN),localStorage.removeItem($.USERNAME)},ae=ee(),ne=ae.isLoggedIn,re=ae.userInfo,ie={isLoggedIn:!1,_id:null,username:null,token:null,isValidUsername:!0},ce=ne?re:ie;function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.UPDATE_USER_DATA:return Object(k.a)({},e,{isLoggedIn:!0,_id:t.payload.userInfo._id,username:t.payload.userInfo.username,token:t.payload.userInfo.token});case W.SET_USERNAME_STATUS:return Object(k.a)({},e,{isValidUsername:t.payload.status});case W.RESET_USER_DATA:return Object(k.a)({},ie);default:return Object(k.a)({},e)}}var se=function(e){return Object(w.c)({router:Object(R.b)(e),toast:Q,loading:Y,static:q,user:oe,shows:z})},le=a(10),ue=a.n(le),me=a(9),de=a(61),Ee=a.n(de);function ge(){return{type:x.START_CHECK_USERNAME_LOADING}}function pe(){return{type:x.STOP_CHECK_USERNAME_LOADING}}function fe(){return{type:x.START_REGISTER_LOADING}}function Se(){return{type:x.STOP_REGISTER_LOADING}}function Te(){return{type:x.START_LOGIN_LOADING}}function he(){return{type:x.STOP_LOGIN_LOADING}}function _e(){return{type:x.START_ADD_SHOW_LOADING}}function Oe(){return{type:x.STOP_ADD_SHOW_LOADING}}function Ae(e,t){return{type:P.SUBMIT_FOR_LOGIN,payload:{username:e,password:t}}}function be(){return{type:P.RESET_LOGIN_STATE}}function ve(e){return{type:G.CHECK_USERNAME,payload:{username:e}}}function Re(e,t){return{type:G.REGISTER_USER,payload:{username:e,password:t}}}function Le(e,t,a){return{type:M.GET_ALL_SHOWS,payload:{types:e,languages:t,genres:a}}}function Ie(e){return{type:M.ADD_SHOWS,payload:{shows:e}}}function ye(){return{type:F.GET_ALL_STATICS}}function Ne(e){return{type:F.UPDATE_TYPE_DATA,payload:{types:e}}}function je(e){return{type:F.UPDATE_LANGUAGE_DATA,payload:{languages:e}}}function we(e){return{type:F.UPDATE_GENRE_DATA,payload:{genres:e}}}function Ue(e,t){return{type:D.REQUEST_TO_SHOW_TOAST,payload:{variant:e,message:t}}}function Ce(e,t){return{type:D.SHOW_TOAST,payload:{variant:e,message:t}}}function ke(){return{type:D.HIDE_TOAST}}function xe(e){return{type:W.UPDATE_USER_DATA,payload:{userInfo:e}}}function De(e){return{type:W.SET_USERNAME_STATUS,payload:{status:e}}}function Ge(){return{type:W.RESET_USER_DATA}}var Pe=/^[a-z][a-z'-_.]{2,}$/i,We=/^[a-z][a-z'-_.]*$/i,Fe=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)?/gi,Me="https://binge-watchers-guide.herokuapp.com",He="".concat(Me,"/users/username/<USER_NAME>"),Ye="".concat(Me,"/users"),Be="".concat(Me,"/users/auth"),Ve={SUCCESS:"success",WARNING:"warning",INFO:"info",ERROR:"error"},ze={INTERNAL_SERVER_ERROR:500,UNAUTHORIZED:401,FORBIDDEN:403,MISSING_PARAMS:422,NOT_FOUND:404,NOT_ALLOWED:409},Ke={TYPE:"TYPE",LANGUAGE:"LANGUAGE",GENRE:"GENRE"},qe=function(e){e.interceptors.response.use((function(e){return e}),(function(e){var t=e.response,a=t.status,n=t.data;if(a===g.APPLICATION_ERROR_STATUS_CODES.UNAUTHORIZED||a===g.APPLICATION_ERROR_STATUS_CODES.NOT_ALLOWED){var r=n.message;ra.dispatch(u.requestToShowToast(g.MESSAGE_VARIANTS.WARNING,r))}else a===g.APPLICATION_ERROR_STATUS_CODES.FORBIDDEN?ra.dispatch(u.requestToShowToast(g.MESSAGE_VARIANTS.WARNING,"You are not allowed to access this.")):a===g.APPLICATION_ERROR_STATUS_CODES.MISSING_PARAMS||a===g.APPLICATION_ERROR_STATUS_CODES.NOT_FOUND?ra.dispatch(u.requestToShowToast(g.MESSAGE_VARIANTS.WARNING,"The request you sent looks incomplete. Please check and try again.")):a===g.APPLICATION_ERROR_STATUS_CODES.INTERNAL_SERVER_ERROR&&ra.dispatch(u.requestToShowToast(g.MESSAGE_VARIANTS.ERROR,"Some issue occured with the server. Please try again in sometime."));return Promise.reject(e)}))},Xe=ue.a.mark($e),Qe=ue.a.mark(Je),Ze=ue.a.mark(et);function $e(e){var t,a,n,r,c,o,s,l;return ue.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,d.prev=1,qe(Ee.a),a=E.LOGIN_URL,n=t,r={"Content-Type":"application/json"},d.next=8,Ee.a.post(a,n,{headers:r});case 8:return c=d.sent,d.next=11,Object(me.e)(i.stopLoginLoading());case 11:if(!c||200!==c.status){d.next=20;break}return o=c.data,s=o.message,l=o.data.user,J(l),d.next=18,Object(me.e)(u.requestToShowToast(g.MESSAGE_VARIANTS.SUCCESS,s));case 18:return d.next=20,Object(me.e)(m.updateUserData(l));case 20:d.next=26;break;case 22:return d.prev=22,d.t0=d.catch(1),d.next=26,Object(me.e)(i.stopLoginLoading());case 26:case"end":return d.stop()}}),Xe,null,[[1,22]])}function Je(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(n.LOGIN.SUBMIT_FOR_LOGIN,$e);case 2:case"end":return e.stop()}}),Qe)}function et(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Je()]);case 2:case"end":return e.stop()}}),Ze)}var tt=ue.a.mark(ct),at=ue.a.mark(ot),nt=ue.a.mark(st),rt=ue.a.mark(lt),it=ue.a.mark(ut);function ct(e){var t,a,n,r,c,o,s;return ue.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,l.prev=1,qe(Ee.a),a=t.username,n=E.CHECK_USERNAME.replace(/<USER_NAME>/,a),r={"Content-Type":"application/json"},l.next=8,Ee.a.get(n,{headers:r});case 8:return c=l.sent,l.next=11,Object(me.e)(i.stopCheckUsernameLoading());case 11:if(!c||200!==c.status){l.next=16;break}return o=c.data,s=o.success,l.next=16,Object(me.e)(m.setUsernameStatus(s));case 16:l.next=22;break;case 18:return l.prev=18,l.t0=l.catch(1),l.next=22,Object(me.e)(i.stopCheckUsernameLoading());case 22:case"end":return l.stop()}}),tt,null,[[1,18]])}function ot(e){var t,a,n,r,c,o,s,l;return ue.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,d.prev=1,qe(Ee.a),a=E.REGISTER_URL,n=t,r={"Content-Type":"application/json"},d.next=8,Ee.a.post(a,n,{headers:r});case 8:return c=d.sent,d.next=11,Object(me.e)(i.stopRegisterLoading());case 11:if(!c||201!==c.status){d.next=20;break}return o=c.data,s=o.message,l=o.data.user,J(l),d.next=18,Object(me.e)(u.requestToShowToast(g.MESSAGE_VARIANTS.SUCCESS,s));case 18:return d.next=20,Object(me.e)(m.updateUserData(l));case 20:d.next=26;break;case 22:return d.prev=22,d.t0=d.catch(1),d.next=26,Object(me.e)(i.stopRegisterLoading());case 26:case"end":return d.stop()}}),at,null,[[1,22]])}function st(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.b)(1e3,n.REGISTER.CHECK_USERNAME,ct);case 2:case"end":return e.stop()}}),nt)}function lt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(n.REGISTER.REGISTER_USER,ot);case 2:case"end":return e.stop()}}),rt)}function ut(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([st(),lt()]);case 2:case"end":return e.stop()}}),it)}var mt=ue.a.mark(gt),dt=ue.a.mark(pt),Et=ue.a.mark(ft);function gt(){var e;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{_id:"1",name:"Kumbalangi Nights",url:"https://www.primevideo.com/detail/0IIH4C2IQSRU9B8L3F4XOLI5WH/",language:"Malayalam",type:"Movie",genre:["Drama","Thriller"],upvotes:12,downvotes:2,haveUpvoted:!0,haveDownvoted:!1},{_id:"2",name:"The Prestige",url:"https://www.primevideo.com/region/eu/detail/0NHF8XHW3MHY857TGPSWTYCXTI/",language:"English",type:"Movie",genre:["Drama","Suspense"],upvotes:28,downvotes:4,haveUpvoted:!1,haveDownvoted:!0},{_id:"3",name:"Kumbalangi Nights",url:"https://www.primevideo.com/detail/0IIH4C2IQSRU9B8L3F4XOLI5WH/",language:"Malayalam",type:"Movie",genre:["Drama","Thriller"],upvotes:12,downvotes:2,haveUpvoted:!1,haveDownvoted:!1},{_id:"4",name:"The Prestige",url:"https://www.primevideo.com/region/eu/detail/0NHF8XHW3MHY857TGPSWTYCXTI/",language:"English",type:"Movie",genre:["Drama","Suspense"],upvotes:28,downvotes:4,haveUpvoted:!1,haveDownvoted:!0},{_id:"5",name:"Kumbalangi Nights",url:"https://www.primevideo.com/detail/0IIH4C2IQSRU9B8L3F4XOLI5WH/",language:"Malayalam",type:"Movie",genre:["Drama","Thriller"],upvotes:12,downvotes:2,haveUpvoted:!0,haveDownvoted:!1},{_id:"6",name:"The Prestige",url:"https://www.primevideo.com/region/eu/detail/0NHF8XHW3MHY857TGPSWTYCXTI/",language:"English",type:"Movie",genre:["Drama","Suspense"],upvotes:28,downvotes:4,haveUpvoted:!1,haveDownvoted:!0}],t.next=3,Object(me.e)(s.addShows(e));case 3:case"end":return t.stop()}}),mt)}function pt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.g)(n.SHOWS.GET_ALL_SHOWS,gt);case 2:case"end":return e.stop()}}),dt)}function ft(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([pt()]);case 2:case"end":return e.stop()}}),Et)}var St=ue.a.mark(_t),Tt=ue.a.mark(Ot),ht=ue.a.mark(At);function _t(){var e,t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=[{_id:1,name:"Movies",type:g.FILTER_TYPES.TYPE,isChecked:!1},{_id:2,name:"Series",type:g.FILTER_TYPES.TYPE,isChecked:!1},{_id:3,name:"Documentary",type:g.FILTER_TYPES.TYPE,isChecked:!1}],t=[{_id:1,name:"Malayalam",type:g.FILTER_TYPES.LANGUAGE,isChecked:!1},{_id:2,name:"Tamil",type:g.FILTER_TYPES.LANGUAGE,isChecked:!1},{_id:3,name:"Hindi",type:g.FILTER_TYPES.LANGUAGE,isChecked:!1},{_id:4,name:"English",type:g.FILTER_TYPES.LANGUAGE,isChecked:!1},{_id:5,name:"Others",type:g.FILTER_TYPES.LANGUAGE,isChecked:!1}],a=[{_id:1,name:"Drama",type:g.FILTER_TYPES.GENRE,isChecked:!1},{_id:2,name:"Horror",type:g.FILTER_TYPES.GENRE,isChecked:!1},{_id:3,name:"Sci-fi",type:g.FILTER_TYPES.GENRE,isChecked:!1},{_id:4,name:"Thriller",type:g.FILTER_TYPES.GENRE,isChecked:!1},{_id:5,name:"Comedy",type:g.FILTER_TYPES.GENRE,isChecked:!1},{_id:6,name:"Romantic",type:g.FILTER_TYPES.GENRE,isChecked:!1}],n.next=5,Object(me.e)(l.updateTypeData(e));case 5:return n.next=7,Object(me.e)(l.updateLanguageData(t));case 7:return n.next=9,Object(me.e)(l.updateGenreData(a));case 9:case"end":return n.stop()}}),St)}function Ot(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.g)(n.STATIC.GET_ALL_STATICS,_t);case 2:case"end":return e.stop()}}),Tt)}function At(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Ot()]);case 2:case"end":return e.stop()}}),ht)}var bt=a(21),vt=function(e){return e.loading},Rt=function(){return Object(bt.a)(vt,(function(e){return e.isRegisterSubmitLoading}))},Lt=function(){return Object(bt.a)(vt,(function(e){return e.isLoginSubmitLoading}))},It=function(){return Object(bt.a)(vt,(function(e){return e.isCheckUsernameLoading}))},yt=function(e){return e.shows},Nt=function(){return Object(bt.a)(yt,(function(e){return e.shows}))},jt=function(e){return e.static},wt=function(){return Object(bt.a)(jt,(function(e){return e.types}))},Ut=function(){return Object(bt.a)(jt,(function(e){return e.languages}))},Ct=function(){return Object(bt.a)(jt,(function(e){return e.genres}))},kt=function(e){return e.toast},xt=function(){return Object(bt.a)(kt,(function(e){return e.show}))},Dt=function(){return Object(bt.a)(kt,(function(e){return e.message}))},Gt=function(){return Object(bt.a)(kt,(function(e){return e.variant}))},Pt=function(e){return e.user},Wt=function(){return Object(bt.a)(Pt,(function(e){return e.isLoggedIn}))},Ft=function(){return Object(bt.a)(Pt,(function(e){return e._id&&e.token&&"Bearer "+e._id+","+e.token}))},Mt=function(){return Object(bt.a)(Pt,(function(e){return e._id}))},Ht=function(){return Object(bt.a)(Pt,(function(e){return e.username}))},Yt=function(){return Object(bt.a)(Pt,(function(e){return e.isValidUsername}))},Bt=ue.a.mark(Kt),Vt=ue.a.mark(qt),zt=ue.a.mark(Xt);function Kt(){var e,t;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(me.f)(T.getToastVariant());case 2:return e=a.sent,a.next=5,Object(me.f)(T.getToastMessage());case 5:return t=a.sent,a.next=8,Object(me.e)(u.hideToast());case 8:return a.next=10,Object(me.c)(100);case 10:return a.next=12,Object(me.e)(u.showToast(e,t));case 12:case"end":return a.stop()}}),Bt)}function qt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.g)(n.TOAST.REQUEST_TO_SHOW_TOAST,Kt);case 2:case"end":return e.stop()}}),Vt)}function Xt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([qt()]);case 2:case"end":return e.stop()}}),zt)}var Qt=ue.a.mark(Zt);function Zt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Object(me.d)(et),Object(me.d)(ut),Object(me.d)(ft),Object(me.d)(At),Object(me.d)(Xt)]);case 2:case"end":return e.stop()}}),Qt)}var $t=a(30),Jt=function(e){return function(t){return function(a){var n=+localStorage.getItem(r.USER.EXPIRE_AT);!ee().isLoggedIn&&n&&(te(),e.dispatch(u.requestToShowToast(g.MESSAGE_VARIANTS.WARNING,"Your session has expired. Please login again.")),setTimeout((function(){e.dispatch(Object($t.d)("/login"))}),3e3)),t(a)}}},ea=Object(U.a)(),ta=w.d,aa=[Object(w.a)(ea,Jt,Object(C.a)(j))],na=Object(w.e)(se(j),ta.apply(void 0,aa));ea.run(Zt);var ra=na,ia=(a(384),a(231)),ca=Object(ia.a)({typography:{fontFamily:'"Lato"',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}),oa=a(103),sa=a(104),la=a(117),ua=a(105),ma=a(119),da=a(435),Ea=a(462),ga=a(17),pa=a(445),fa=a(441),Sa=a(463),Ta=a(388),ha=a(446),_a=a(82),Oa=a.n(_a),Aa=a(220),ba=a.n(Aa),va=a(466),Ra=a(443),La=a(152),Ia=a(83),ya=a(433),Na=a(3),ja=a(461),wa=a(464),Ua=a(436),Ca=a(437),ka=a(438),xa=a(389),Da=a(439),Ga=a(440),Pa=a(219),Wa=a.n(Pa),Fa=function(){return{filterArea:{paddingTop:".5rem",paddingBottom:".5rem"},expansionPanelHeading:{borderBottom:"1px solid #C3C3C3"},expansionPanelBody:{padding:0},filterListArea:{width:"100%",maxHeight:150,overflow:"auto"}}},Ma=function(e){var t=e.title,a=e.values,n=e.expanded,r=e.handleExpansion,i=e.handleOnCheckBoxClick,c=Object(ya.a)(Fa)();return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{className:c.filterArea,item:!0,xs:12},O.a.createElement(wa.a,{square:!0,expanded:n},O.a.createElement(Ua.a,{className:Object(Na.a)(n&&c.expansionPanelHeading),expandIcon:O.a.createElement(Wa.a,null),onClick:r},O.a.createElement(Ia.a,{variant:"h6"},t)),O.a.createElement(Ca.a,{className:c.expansionPanelBody},O.a.createElement(ka.a,{className:c.filterListArea},a.map((function(e){return O.a.createElement(xa.a,{key:e._id,role:void 0,dense:!0,button:!0,onClick:i(e)},O.a.createElement(Da.a,null,O.a.createElement(ja.a,{edge:"start",checked:e.isChecked,tabIndex:-1,disableRipple:!0})),O.a.createElement(Ga.a,{primary:e.name}))})))))))},Ha=function(e){return{filterArea:{margin:e.spacing(1)},filterChipsArea:{marginTop:".5rem",marginBottom:".5rem",backgroundColor:"#F7F7F7"},chips:{padding:".25rem",margin:".5rem"},divider:{marginTop:"1rem",marginBottom:"1rem"}}},Ya=function(e){var t=Object(ya.a)(Ha)(),a=O.a.useState([]),n=Object(ga.a)(a,2),r=n[0],i=n[1],c=O.a.useState(e.types||[]),o=Object(ga.a)(c,2),s=o[0],l=o[1],u=O.a.useState(e.languages||[]),m=Object(ga.a)(u,2),d=m[0],E=m[1],p=O.a.useState(e.genres||[]),f=Object(ga.a)(p,2),S=f[0],T=f[1],h=O.a.useState(!0),_=Object(ga.a)(h,2),A=_[0],b=_[1],v=O.a.useState(!1),R=Object(ga.a)(v,2),L=R[0],I=R[1],y=O.a.useState(!1),N=Object(ga.a)(y,2),j=N[0],w=N[1],U=function(e){e===g.FILTER_TYPES.TYPE?b(!A):e===g.FILTER_TYPES.LANGUAGE?I(!L):e===g.FILTER_TYPES.GENRE&&w(!j)},C=function(e){return function(){if(e.isChecked){var t=Object(B.a)(r).filter((function(t){return t._id!==e._id||t.type!==e.type}));i(t)}else i([].concat(Object(B.a)(r),[Object(k.a)({},e,{isChecked:!0})]));if(e.type===g.FILTER_TYPES.TYPE){var a=Object(B.a)(s).map((function(t){return t._id===e._id?Object(k.a)({},t,{isChecked:!t.isChecked}):t}));l(a)}else if(e.type===g.FILTER_TYPES.LANGUAGE){var n=Object(B.a)(d).map((function(t){return t._id===e._id?Object(k.a)({},t,{isChecked:!t.isChecked}):t}));E(n)}else if(e.type===g.FILTER_TYPES.GENRE){var c=Object(B.a)(S).map((function(t){return t._id===e._id?Object(k.a)({},t,{isChecked:!t.isChecked}):t}));T(c)}}},x=r.map((function(e){return O.a.createElement(va.a,{className:t.chips,key:e._id+" "+e.type,color:"primary",label:e.name,onDelete:(a=e,function(){var e=Object(B.a)(r).filter((function(e){return e._id!==a._id||e.type!==a.type}));if(i(e),a.type===g.FILTER_TYPES.TYPE){var t=Object(B.a)(s).map((function(e){return e._id===a._id?Object(k.a)({},e,{isChecked:!1}):e}));l(t)}else if(a.type===g.FILTER_TYPES.LANGUAGE){var n=Object(B.a)(d).map((function(e){return e._id===a._id?Object(k.a)({},e,{isChecked:!1}):e}));E(n)}else if(a.type===g.FILTER_TYPES.GENRE){var c=Object(B.a)(S).map((function(e){return e._id===a._id?Object(k.a)({},e,{isChecked:!1}):e}));T(c)}})});var a}));return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{className:t.filterArea},O.a.createElement(da.a,{container:!0,justify:"space-between"},O.a.createElement(da.a,{item:!0,xs:!0},O.a.createElement(Ia.a,{variant:"h6"},"Filters")),r&&r.length>0&&O.a.createElement(da.a,{item:!0,xs:4},O.a.createElement(fa.a,{color:"primary",fullWidth:!0,disabled:r&&r.length<1,onClick:function(){i([]),l(e.types||[]),E(e.languages||[]),T(e.genres||[])}},"Clear All"))),O.a.createElement(La.a,{className:t.filterChipsArea,elevation:0},x),r&&r.length>0&&O.a.createElement(O.a.Fragment,null,O.a.createElement(Ea.a,{smDown:!0},O.a.createElement(da.a,{item:!0,md:5},O.a.createElement(fa.a,{variant:"outlined",color:"primary",fullWidth:!0,disabled:r&&r.length<1},"Apply"))),O.a.createElement(Ea.a,{mdUp:!0},O.a.createElement(da.a,{container:!0,justify:"center"},O.a.createElement(da.a,{item:!0,xs:6},O.a.createElement(fa.a,{variant:"outlined",color:"primary",fullWidth:!0,disabled:r&&r.length<1},"Apply"))))),O.a.createElement(Ra.a,{className:t.divider}),O.a.createElement(Ma,{title:"Types",values:s,expanded:A,handleExpansion:function(){return U(g.FILTER_TYPES.TYPE)},handleOnCheckBoxClick:C}),O.a.createElement(Ma,{title:"Languages",values:d,expanded:L,handleExpansion:function(){return U(g.FILTER_TYPES.LANGUAGE)},handleOnCheckBoxClick:C}),O.a.createElement(Ma,{title:"Genres",values:S,expanded:j,handleExpansion:function(){return U(g.FILTER_TYPES.GENRE)},handleOnCheckBoxClick:C})))},Ba=a(444),Va=O.a.forwardRef((function(e,t){return O.a.createElement(O.a.Fragment,null,O.a.createElement(Ba.a,Object.assign({direction:"up",ref:t},e)),";")})),za=function(e){var t=O.a.useState(!1),a=Object(ga.a)(t,2),n=a[0],r=a[1],i=function(){r(!1)};return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{container:!0,justify:"center"},O.a.createElement(da.a,{item:!0,xs:8},O.a.createElement(fa.a,{color:"primary",size:"large",startIcon:O.a.createElement(ba.a,null),onClick:function(){r(!0)},fullWidth:!0},"Filter List"))),O.a.createElement(Sa.a,{open:n,TransitionComponent:Va,fullScreen:!0,maxWidth:"sm",keepMounted:!1,onClose:i},O.a.createElement(pa.a,{position:"sticky"},O.a.createElement(ha.a,null,O.a.createElement(Ta.a,{edge:"start",color:"inherit",onClick:i},O.a.createElement(Oa.a,null)))),O.a.createElement(Ya,e)))},Ka=a(447),qa=a(448),Xa=function(e){return{filterArea:{margin:e.spacing(3,1)}}},Qa=function(e){var t=Object(ya.a)(Xa)();return O.a.createElement(O.a.Fragment,null,O.a.createElement(Ka.a,{className:t.filterArea},O.a.createElement(qa.a,null,O.a.createElement(Ya,e))))},Za=a(442),$a=a(222),Ja=a.n($a),en=a(221),tn=a.n(en),an=a(223),nn=a.n(an),rn=a(147),cn=a.n(rn),on=a(26),sn=a(52),ln=function(e){var t,a;return{descriptionArea:(t={paddingTop:"2rem",paddingRight:"2rem"},Object(sn.a)(t,e.breakpoints.down("sm"),{paddingRight:"1rem"}),Object(sn.a)(t,e.breakpoints.down("xs"),{paddingRight:"0rem"}),t),titleArea:{marginBottom:"1rem"},title:(a={fontWeight:700,fontSize:30,color:"#424242"},Object(sn.a)(a,e.breakpoints.down("sm"),{fontWeight:600,fontSize:26}),Object(sn.a)(a,e.breakpoints.down("xs"),{fontWeight:600,fontSize:22}),a),watchButton:Object(sn.a)({fontWeight:600,paddingRight:"2rem",paddingLeft:"2rem"},e.breakpoints.down("xs"),{fontWeight:500,paddingRight:"1rem",paddingLeft:"1rem"}),metadataArea:{marginTop:".5rem",marginBottom:"1rem"},tabArea:{marginTop:".5rem"},languageIcon:{color:"#8097A4"},languageText:{marginLeft:".75rem",fontSize:16,color:"#8097A4"},typeIcon:{color:"#556B84"},typeText:{marginLeft:".75rem",fontSize:16,color:"#556B84"},genreIcon:{color:"#125BA2"},genreTab:{marginLeft:".75rem"}}},un=function(e){var t=Object(ya.a)(ln)(),a=Object(on.a)(),n=Object(Za.a)(a.breakpoints.down("xs")),r=e.name,i=e.url,c=e.language,o=e.type,s=e.genre,l=s&&s.map((function(e,a){return O.a.createElement(va.a,{key:a,className:t.genreTab,variant:"outlined",color:"primary",size:"small",label:e})}));return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{className:t.descriptionArea},O.a.createElement(da.a,{className:t.titleArea,container:!0,justify:"space-between"},O.a.createElement(Ia.a,{className:t.title},r),i&&O.a.createElement(fa.a,{className:t.watchButton,variant:"contained",color:"default",endIcon:!n&&O.a.createElement(cn.a,null),disableElevation:!0,onClick:function(){return window.open(i,"_blank")}},n?O.a.createElement(cn.a,null):"Watch")),O.a.createElement(Ra.a,null),O.a.createElement(da.a,{className:t.metadataArea,container:!0},O.a.createElement(da.a,{className:t.tabArea,item:!0,xs:12,sm:3},O.a.createElement(da.a,{container:!0,alignItems:"center"},O.a.createElement(da.a,{item:!0},O.a.createElement(tn.a,{className:t.languageIcon})),O.a.createElement(da.a,{item:!0},O.a.createElement(Ia.a,{className:t.languageText,variant:"subtitle2",display:"inline"},c)))),O.a.createElement(da.a,{className:t.tabArea,item:!0,xs:12,sm:3},O.a.createElement(da.a,{container:!0,alignItems:"center"},O.a.createElement(da.a,{item:!0},O.a.createElement(Ja.a,{className:t.typeIcon})),O.a.createElement(da.a,{item:!0},O.a.createElement(Ia.a,{className:t.typeText,variant:"subtitle2",display:"inline"},o)))),O.a.createElement(da.a,{className:t.tabArea,item:!0,xs:12,sm:!0},O.a.createElement(da.a,{container:!0,alignItems:"center"},O.a.createElement(da.a,{item:!0},O.a.createElement(nn.a,{className:t.genreIcon})),O.a.createElement(da.a,{item:!0},l))))))},mn=a(224),dn=a.n(mn),En=a(225),gn=a.n(En),pn=function(e){return{element:{padding:".25rem, 0rem"},icons:{color:e.palette.text.secondary},upvoted:{color:e.palette.success.light},downvoted:{color:e.palette.error.light},vote:{marginRight:"1rem"}}},fn=function(e){var t=Object(ya.a)(pn)(),a=e.upvotes,n=e.downvotes,r=e.haveUpvoted,i=e.haveDownvoted,c=a-n;return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{className:t.element,item:!0,xs:12},O.a.createElement(da.a,{container:!0,justify:"flex-end"},O.a.createElement(Ta.a,null,O.a.createElement(dn.a,{fontSize:"large",className:Object(Na.a)(t.icons,r&&t.upvoted)})))),O.a.createElement(da.a,{className:t.element,item:!0,xs:12},O.a.createElement(da.a,{container:!0,justify:"flex-end"},O.a.createElement(Ia.a,{className:t.vote,variant:"h6"},c))),O.a.createElement(da.a,{className:t.element,item:!0,xs:12},O.a.createElement(da.a,{container:!0,justify:"flex-end"},O.a.createElement(Ta.a,null,O.a.createElement(gn.a,{fontSize:"large",className:Object(Na.a)(t.icons,!r&&i&&t.downvoted)})))))},Sn=function(e){return{cardArea:{margin:e.spacing(3,1)},dividerArea:Object(sn.a)({marginLeft:"1rem",marginRight:"1rem"},e.breakpoints.down("sm"),{marginLeft:"0rem",marginRight:".75rem"})}},Tn=function(e){var t=Object(ya.a)(Sn)();return O.a.createElement(O.a.Fragment,null,O.a.createElement(Ka.a,{className:t.cardArea},O.a.createElement(da.a,{container:!0,alignItems:"center"},O.a.createElement(da.a,{item:!0,xs:2,sm:1},O.a.createElement(fn,e)),O.a.createElement(Ra.a,{className:t.dividerArea,orientation:"vertical",flexItem:!0}),O.a.createElement(da.a,{item:!0,xs:9,sm:!0},O.a.createElement(un,e)))))},hn=a(456),_n=a(226),On=a.n(_n),An=a(148),bn=a.n(An),vn=a(149),Rn=a.n(vn),Ln=a(452),In=a(392),yn=a(393),Nn=a(390),jn=a(396),wn=a(451),Un=a(395),Cn=a(449),kn=function(e){return{addShowElement:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},multipleSelect:{border:"1px solid #C3C3C3",borderRadius:4},multipleSelectError:{border:"1px solid red",borderRadius:4},multipleSelectLabel:{background:"#FFF",paddingLeft:e.spacing(.5),paddingRight:e.spacing(1)},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,backgroundColor:e.palette.primary},lastElement:{paddingTop:e.spacing(1),paddingBottom:e.spacing(5)}}},xn=function(e){var t=e.onAddShowSubmit,a=e.isAddShowSubmitLoading,n=e.types,r=e.languages,i=e.genres,c=Object(ya.a)(kn)(),o=O.a.useState(""),s=Object(ga.a)(o,2),l=s[0],u=s[1],m=O.a.useState(""),E=Object(ga.a)(m,2),g=E[0],p=E[1],f=O.a.useState(!1),S=Object(ga.a)(f,2),T=S[0],h=S[1],_=O.a.useState(""),A=Object(ga.a)(_,2),b=A[0],v=A[1],R=O.a.useState(""),L=Object(ga.a)(R,2),I=L[0],y=L[1],N=O.a.useState([]),j=Object(ga.a)(N,2),w=j[0],U=j[1],C=O.a.useState(!1),k=Object(ga.a)(C,2),x=k[0],D=k[1],G=function(e){e.preventDefault(),t(l,g,b,I,w)};return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{container:!0,spacing:1,justify:"center",alignContent:"center"},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(da.a,{container:!0,justify:"center",className:c.addShowElement},O.a.createElement(Ia.a,{variant:"h4"},"Add Show")),O.a.createElement("form",{onSubmit:G},O.a.createElement(da.a,{container:!0,justify:"center",className:c.addShowElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(Cn.a,{id:"name",variant:"outlined",label:"Name",placeholder:"The Shawshank Redemption",value:l,onChange:function(e){u(e.target.value)},InputLabelProps:{shrink:!0},autoFocus:!0,fullWidth:!0}))),O.a.createElement(da.a,{container:!0,justify:"center",className:c.addShowElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(Cn.a,{id:"url",variant:"outlined",label:"URL (Optional)",placeholder:"",value:g,onChange:function(e){p(e.target.value)},onBlur:function(e){d.URL.test(e.target.value)||""===e.target.value?h(!1):h(!0)},error:T,helperText:T&&"Invalid URL format.",InputLabelProps:{shrink:!0},fullWidth:!0}))),O.a.createElement(da.a,{container:!0,justify:"center",className:c.addShowElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(In.a,{variant:"outlined",fullWidth:!0},O.a.createElement(jn.a,{id:"select-type-label"},"Type"),O.a.createElement(Un.a,{labelId:"select-type-label",id:"select-type",value:b,onChange:function(e){v(e.target.value)},labelWidth:35,fullWidth:!0},n.map((function(e){return O.a.createElement(wn.a,{key:e._id,value:e._id},e.name)})))))),O.a.createElement(da.a,{container:!0,justify:"center",className:c.addShowElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(In.a,{variant:"outlined",fullWidth:!0},O.a.createElement(jn.a,{id:"select-language-label"},"Language"),O.a.createElement(Un.a,{labelId:"select-language-label",id:"select-language",value:I,onChange:function(e){y(e.target.value)},labelWidth:67,fullWidth:!0},r.map((function(e){return O.a.createElement(wn.a,{key:e._id,value:e._id},e.name)})))))),O.a.createElement(da.a,{container:!0,justify:"center",className:c.addShowElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(In.a,{variant:"outlined",fullWidth:!0,error:x},O.a.createElement("div",{className:Object(Na.a)(x?c.multipleSelectError:c.multipleSelect)},O.a.createElement(jn.a,{className:c.multipleSelectLabel,id:"select-genres-chip-label"},"Genre (Max 3)"),O.a.createElement(Un.a,{labelId:"select-genres-chip-label",id:"genres-chip",value:w,onChange:function(e){e.target.value.length>3?D(!0):D(!1),U(e.target.value)},labelWidth:67,input:O.a.createElement(Nn.a,{id:"select-genres-chip"}),renderValue:function(e){return O.a.createElement(da.a,{className:c.chips},e.map((function(e){return O.a.createElement(va.a,{key:e,label:i.find((function(t){return t._id===e})).name,className:c.chip})})))},multiple:!0,fullWidth:!0},i.map((function(e){return O.a.createElement(wn.a,{key:e._id,value:e._id,style:(t=e._id,{fontWeight:-1===w.indexOf(t)?500:700})},e.name);var t})))),x&&O.a.createElement(yn.a,null,"Can't add more than 3 genre.")))),O.a.createElement(da.a,{container:!0,justify:"center",className:c.lastElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(fa.a,{variant:"outlined",color:"primary",size:"large",disabled:T||""===l,onClick:G,fullWidth:!0},a?O.a.createElement(Ln.a,null):"Add")))))))},Dn=a(453),Gn=function(e){var t=e.children,a=Object(Dn.a)({disableHysteresis:!0,threshold:0});return O.a.cloneElement(t,{style:a?{boxShadow:"0 5px 5px -5px #333"}:{boxShadow:"none"}})},Pn=a(454),Wn=a(455),Fn=a(115),Mn=a.n(Fn),Hn=a(116),Yn=a.n(Hn),Bn=function(e){return{loginElement:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}},Vn=function(e){var t=e.handleOpenRegisterPopup,a=e.handleCloseLoginPopup,n=e.onLoginSubmit,r=e.isLoginSubmitLoading,i=Object(ya.a)(Bn)(),c=O.a.useState(""),o=Object(ga.a)(c,2),s=o[0],l=o[1],u=O.a.useState(!1),m=Object(ga.a)(u,2),E=m[0],g=m[1],p=O.a.useState(""),f=Object(ga.a)(p,2),S=f[0],T=f[1],h=O.a.useState(!1),_=Object(ga.a)(h,2),A=_[0],b=_[1],v=function(e){e.preventDefault(),n(s,S)};return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{container:!0,spacing:1,justify:"center",alignContent:"center"},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(da.a,{container:!0,justify:"center",className:i.loginElement},O.a.createElement(Ia.a,{variant:"h4"},"Login")),O.a.createElement("form",{onSubmit:v},O.a.createElement(da.a,{container:!0,justify:"center",className:i.loginElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(Cn.a,{id:"email",variant:"outlined",label:"Username",placeholder:"rajnikanth",value:s,onChange:function(e){d.USERNAME_TYPING.test(e.target.value)||""===e.target.value?g(!1):g(!0),l(e.target.value)},onBlur:function(e){d.USERNAME.test(e.target.value)||""===e.target.value?g(!1):g(!0)},error:E,helperText:E&&"Invalid username format.",InputLabelProps:{shrink:!0},autoFocus:!0,fullWidth:!0}))),O.a.createElement(da.a,{container:!0,justify:"center",className:i.loginElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(Cn.a,{id:"password",variant:"outlined",type:A?"text":"password",label:"Password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:S,onChange:function(e){T(e.target.value)},InputLabelProps:{shrink:!0},InputProps:{endAdornment:O.a.createElement(Pn.a,{position:"end"},O.a.createElement(Ta.a,{"aria-label":"toggle password visibility",edge:"end",onClick:function(){b(!A)}},A?O.a.createElement(Mn.a,null):O.a.createElement(Yn.a,null)))},autoComplete:"true",fullWidth:!0}))),O.a.createElement(da.a,{container:!0,justify:"center",className:i.loginElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(fa.a,{variant:"outlined",color:"primary",size:"large",disabled:E||""===s||""===S,onClick:v,fullWidth:!0},r?O.a.createElement(Ln.a,null):"Login"))))),O.a.createElement(da.a,{container:!0,justify:"center",className:i.loginElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(da.a,{container:!0,justify:"center"},O.a.createElement(Ia.a,{variant:"subtitle1"},"Not our user yet?"," ",O.a.createElement(Wn.a,{href:"",onClick:function(e){e.preventDefault(),a(),setTimeout(t,500)}},"Register Here.")))))))},zn=function(e){return{registerElement:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}},Kn=function(e){var t=e.handleOpenLoginPopup,a=e.handleCloseRegisterPopup,n=e.checkForUsername,r=e.isCheckUsernameLoading,i=e.isValidUsername,c=e.onRegisterSubmit,o=e.isRegisterSubmitLoading,s=Object(ya.a)(zn)(),l=O.a.useState(""),u=Object(ga.a)(l,2),m=u[0],E=u[1],g=O.a.useState(!1),p=Object(ga.a)(g,2),f=p[0],S=p[1],T=O.a.useState(""),h=Object(ga.a)(T,2),_=h[0],A=h[1],b=O.a.useState(!1),v=Object(ga.a)(b,2),R=v[0],L=v[1];O.a.useEffect((function(){S(""!==m&&!i&&"This username is already taken.")}),[i,m]);var I=function(e){e.preventDefault(),c(m,_)};return O.a.createElement(O.a.Fragment,null,O.a.createElement(da.a,{container:!0,spacing:1,justify:"center",alignContent:"center"},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(da.a,{container:!0,justify:"center",className:s.registerElement},O.a.createElement(Ia.a,{variant:"h4"},"Register")),O.a.createElement("form",{onSubmit:I},O.a.createElement(da.a,{container:!0,justify:"center",className:s.registerElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(Cn.a,{id:"email",variant:"outlined",label:"Username",placeholder:"rajnikanth",value:m,onChange:function(e){i?d.USERNAME_TYPING.test(e.target.value)||""===e.target.value?S(!1):S("Invalid Username format"):S("This username is already taken."),E(e.target.value),""!==e.target.value&&n(e.target.value)},onBlur:function(e){i?d.USERNAME.test(e.target.value)||""===e.target.value?S(!1):S("Invalid Username format"):S("This username is already taken."),""!==e.target.value&&n(e.target.value)},error:!!f,helperText:!!f&&f,InputLabelProps:{shrink:!0},autoFocus:!0,fullWidth:!0}))),O.a.createElement(da.a,{container:!0,justify:"center",className:s.registerElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(Cn.a,{id:"password",variant:"outlined",type:R?"text":"password",label:"Password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:_,onChange:function(e){A(e.target.value)},InputLabelProps:{shrink:!0},InputProps:{endAdornment:O.a.createElement(Pn.a,{position:"end"},O.a.createElement(Ta.a,{"aria-label":"toggle password visibility",edge:"end",onClick:function(){L(!R)}},R?O.a.createElement(Mn.a,null):O.a.createElement(Yn.a,null)))},autoComplete:"true",fullWidth:!0}))),O.a.createElement(da.a,{container:!0,justify:"center",className:s.registerElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(fa.a,{variant:"outlined",color:"primary",size:"large",disabled:r||!!f||""===m||""===_,onClick:I,fullWidth:!0},o?O.a.createElement(Ln.a,null):"Register"))))),O.a.createElement(da.a,{container:!0,justify:"center",className:s.registerElement},O.a.createElement(da.a,{item:!0,xs:12,sm:10},O.a.createElement(da.a,{container:!0,justify:"center"},O.a.createElement(Ia.a,{variant:"subtitle1"},"Already registered?"," ",O.a.createElement(Wn.a,{href:"",onClick:function(e){e.preventDefault(),a(),setTimeout(t,500)}},"Login Here.")))))))},qn=function(){return{navbar:{backgroundColor:"#F7F7F7"},logo:{cursor:"pointer",height:"7vh"}}},Xn=function(e){var t=e.redirectToPage,a=e.requestToShowToast,n=e.checkForUsername,r=e.onRegisterSubmit,i=e.onLoginSubmit,c=e.logoutUser,o=e.isCheckUsernameLoading,s=e.isUserLoggedIn,l=e.isValidUsername,u=e.username,m=e.types,d=e.languages,E=e.genres,p=Object(ya.a)(qn)(),f=Object(on.a)(),S=Object(Za.a)(f.breakpoints.down("sm")),T=O.a.useState(!1),h=Object(ga.a)(T,2),_=h[0],A=h[1],b=O.a.useState(!1),v=Object(ga.a)(b,2),R=v[0],L=v[1],I=O.a.useState(!1),y=Object(ga.a)(I,2),N=y[0],j=y[1];O.a.useEffect((function(){A(!1),L(!1)}),[s]);var w=function(){A(!0)},U=function(){A(!1)},C=function(){L(!1)},k=function(){s?j(!0):(a(g.MESSAGE_VARIANTS.INFO,"You have to login first."),A(!0))},x=function(){s?j(!1):A(!1)};return O.a.createElement(O.a.Fragment,null,O.a.createElement(Gn,e,O.a.createElement(pa.a,{className:p.navbar,position:"sticky",elevation:0},O.a.createElement(ha.a,null,O.a.createElement(da.a,{container:!0,justify:"space-between",alignItems:"center"},O.a.createElement(da.a,{item:!0},O.a.createElement("img",{className:p.logo,src:S?"/bwg_mobile_logo.png":"/bwg_logo.png",alt:"Binge Watcher's Guide",onClick:function(){return t("/")}})),O.a.createElement(da.a,{item:!0},O.a.createElement(da.a,{container:!0,justify:"space-between",alignItems:"center"},O.a.createElement(da.a,{item:!0,xs:!0},S?O.a.createElement(Ta.a,{onClick:k},O.a.createElement(bn.a,{color:"primary"})):O.a.createElement(da.a,{container:!0,justify:"center",alignItems:"center"},O.a.createElement(fa.a,{color:"primary",size:"large",startIcon:O.a.createElement(bn.a,null),onClick:k},"Add your entry"))),O.a.createElement(da.a,{item:!0,xs:!0},s?O.a.createElement(da.a,{container:!0,justify:"center",alignItems:"center"},O.a.createElement(fa.a,{color:"primary",size:"large",startIcon:O.a.createElement(On.a,null),onClick:function(){c()}},"Logout (",u,")")):S?O.a.createElement(Ta.a,{onClick:w},O.a.createElement(Rn.a,{color:"primary"})):O.a.createElement(da.a,{container:!0,justify:"center",alignItems:"center"},O.a.createElement(fa.a,{color:"primary",size:"large",startIcon:O.a.createElement(Rn.a,null),onClick:w},"Login"))))))))),O.a.createElement(Sa.a,{open:_,TransitionComponent:Va,fullWidth:!0,maxWidth:"sm",keepMounted:!1,onClose:U},O.a.createElement(hn.a,null,O.a.createElement(da.a,{container:!0},O.a.createElement(da.a,{item:!0,xs:12},O.a.createElement(da.a,{container:!0,justify:"flex-end"},O.a.createElement(Ta.a,{onClick:U},O.a.createElement(Oa.a,null)))),O.a.createElement(da.a,{item:!0,xs:12},O.a.createElement(Vn,{onLoginSubmit:i,handleOpenRegisterPopup:function(){L(!0)},handleCloseLoginPopup:U}))))),O.a.createElement(Sa.a,{open:R,TransitionComponent:Va,fullWidth:!0,maxWidth:"sm",keepMounted:!1,onClose:C},O.a.createElement(hn.a,null,O.a.createElement(da.a,{container:!0},O.a.createElement(da.a,{item:!0,xs:12},O.a.createElement(da.a,{container:!0,justify:"flex-end"},O.a.createElement(Ta.a,{onClick:C},O.a.createElement(Oa.a,null)))),O.a.createElement(da.a,{item:!0,xs:12},O.a.createElement(Kn,{checkForUsername:n,isCheckUsernameLoading:o,isValidUsername:l,onRegisterSubmit:r,handleOpenLoginPopup:w,handleCloseRegisterPopup:C}))))),O.a.createElement(Sa.a,{open:N,TransitionComponent:Va,fullWidth:!0,maxWidth:"sm",keepMounted:!1,onClose:x},O.a.createElement(hn.a,null,O.a.createElement(da.a,{container:!0},O.a.createElement(da.a,{item:!0,xs:12},O.a.createElement(da.a,{container:!0,justify:"flex-end"},O.a.createElement(Ta.a,{onClick:x},O.a.createElement(Oa.a,null)))),O.a.createElement(da.a,{item:!0,xs:12},O.a.createElement(xn,{types:m,languages:d,genres:E}))))))},Qn=function(e){function t(){return Object(oa.a)(this,t),Object(la.a)(this,Object(ua.a)(t).apply(this,arguments))}return Object(ma.a)(t,e),Object(sa.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getAllStatics,a=e.getAllShows;t(),a()}},{key:"render",value:function(){var e=this.props,t=e.redirectToPage,a=e.requestToShowToast,n=e.checkForUsername,r=e.onRegisterSubmit,i=e.onLoginSubmit,c=e.logoutUser,o=e.isCheckUsernameLoading,s=e.isUserLoggedIn,l=e.isValidUsername,u=e.username,m=e.types,d=e.languages,E=e.genres,g=e.shows;return O.a.createElement(O.a.Fragment,null,O.a.createElement(O.a.Fragment,null,O.a.createElement(Xn,{redirectToPage:t,requestToShowToast:a,checkForUsername:n,onRegisterSubmit:r,onLoginSubmit:i,logoutUser:c,isCheckUsernameLoading:o,isUserLoggedIn:s,isValidUsername:l,username:u,types:m,languages:d,genres:E})),O.a.createElement(da.a,{container:!0,justify:"flex-start"},O.a.createElement(Ea.a,{mdUp:!0},O.a.createElement(da.a,{item:!0,xs:12},O.a.createElement(za,{types:m,languages:d,genres:E}))),O.a.createElement(da.a,{item:!0,xs:12,md:8},g.map((function(e){return O.a.createElement(Tn,Object.assign({key:e._id},e))}))),O.a.createElement(Ea.a,{smDown:!0},O.a.createElement(da.a,{item:!0,md:!0},O.a.createElement(Qa,{types:m,languages:d,genres:E})))))}}]),t}(_.Component),Zn=Object(bt.b)({isCheckUsernameLoading:p.getCheckUsernameLoadingState(),isUserLoggedIn:h.isUserLoggedIn(),isValidUsername:h.isValidUsername(),username:h.getCurrentUsername(),types:S.getAllTypes(),languages:S.getAllLanguages(),genres:S.getAllGenres(),shows:f.getAllShows()}),$n=Object(I.c)(Zn,(function(e){return{redirectToPage:function(t){return e(Object($t.d)(t))},getAllStatics:function(){return e(l.getAllStatics())},getAllShows:function(){return e(s.getAllShows())},requestToShowToast:function(t,a){return e(u.requestToShowToast(t,a))},checkForUsername:function(t){return e(i.startCheckUsernameLoading()),e(o.checkUsername(t))},onRegisterSubmit:function(t,a){return e(i.startRegisterLoading()),e(o.registerUser(t,a))},onLoginSubmit:function(t,a){return e(i.startLoginLoading()),e(c.submitForLogin(t,a))},logoutUser:function(){return te(),e(m.resetUserData())}}}))(Qn),Jn=function(){return O.a.createElement(da.a,{container:!0,justify:"center"},O.a.createElement(Ln.a,null))},er=a(465),tr=a(458),ar=a(6),nr=a(227),rr=a.n(nr),ir=a(229),cr=a.n(ir),or=a(230),sr=a.n(or),lr=a(228),ur=a.n(lr),mr=a(150),dr=a.n(mr),Er=a(122),gr=a(120),pr=a(121),fr=a(457),Sr=function(e){return{success:{backgroundColor:Er.a[600]},error:{backgroundColor:gr.a[500]},info:{backgroundColor:pr.a[400]},warning:{backgroundColor:fr.a[800]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}},Tr=function(e){function t(){var e,a;Object(oa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(la.a)(this,(e=Object(ua.a)(t)).call.apply(e,[this].concat(r)))).onClose=function(){(0,a.props.hideToast)()},a}return Object(ma.a)(t,e),Object(sa.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toastState,a=e.toastMessage,n=e.toastVariant,r=e.classes,i={success:rr.a,warning:ur.a,error:cr.a,info:sr.a}[n],c=n&&O.a.createElement(i,{className:Object(Na.a)(r.icon,r.iconVariant)});return O.a.createElement(er.a,{autoHideDuration:3e3,open:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.onClose,transitionDuration:100,action:[O.a.createElement(Ta.a,{key:"close","aria-label":"close",color:"inherit",onClick:this.onClose},O.a.createElement(dr.a,null))]},O.a.createElement(tr.a,{className:Object(Na.a)(r[n],r.icon),message:O.a.createElement("span",{id:"snackbar-message",className:r.message},c,a),action:[O.a.createElement(Ta.a,{key:"close","aria-label":"close",color:"inherit",onClick:this.onClose},O.a.createElement(dr.a,{className:r.icon}))]}))}}]),t}(_.Component),hr=Object(bt.b)({toastState:T.getToastState(),toastMessage:T.getToastMessage(),toastVariant:T.getToastVariant()}),_r=Object(I.c)(hr,(function(e){return{hideToast:function(){return e(u.hideToast())}}}))(Object(ar.a)(Sr)(Tr)),Or=Object(_.lazy)((function(){return a.e(3).then(a.bind(null,467))})),Ar=function(){return O.a.createElement(I.a,{store:ra},O.a.createElement(L.Helmet,{titleTemplate:"%s - Binge Watcher's Guide",defaultTitle:"Binge Watcher's Guide - Complete Movie and Series Directory"},O.a.createElement("meta",{name:"description",content:"Binge Watcher's Guide - Complete Movie and Series Directory"})),O.a.createElement(R.a,{history:j},O.a.createElement(_r,null),O.a.createElement(v.a,{theme:ca},O.a.createElement(_.Suspense,{fallback:O.a.createElement(Jn,null)},O.a.createElement(y.c,null,O.a.createElement(y.a,{exact:!0,path:"/",component:$n}),O.a.createElement(y.a,{component:Or}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.render(O.a.createElement(Ar,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[254,1,2]]]);
//# sourceMappingURL=main.05e4adc2.chunk.js.map