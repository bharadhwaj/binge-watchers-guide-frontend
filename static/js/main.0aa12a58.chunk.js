(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{257:function(e,t,a){e.exports=a(393)},273:function(e,t){},275:function(e,t){},312:function(e,t){},313:function(e,t){},393:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"LOADING",(function(){return C})),a.d(n,"TOAST",(function(){return k})),a.d(n,"REGISTER",(function(){return P})),a.d(n,"LOGIN",(function(){return F})),a.d(n,"USER",(function(){return W})),a.d(n,"STATIC",(function(){return H})),a.d(n,"SHOWS",(function(){return V}));var r={};a.r(r),a.d(r,"USERNAME",(function(){return K})),a.d(r,"USERNAME_TYPING",(function(){return X})),a.d(r,"URL",(function(){return Q}));var i={};a.r(i),a.d(i,"USER",(function(){return Z}));var o={};a.r(o),a.d(o,"CHECK_USERNAME",(function(){return J})),a.d(o,"REGISTER_URL",(function(){return ee})),a.d(o,"LOGIN_URL",(function(){return te})),a.d(o,"GET_STATICS",(function(){return ae})),a.d(o,"GET_ALL_SHOWS",(function(){return ne})),a.d(o,"ADD_SHOWS",(function(){return re})),a.d(o,"UPVOTE_SHOW",(function(){return ie})),a.d(o,"DOWNVOTE_SHOW",(function(){return oe}));var c={};a.r(c),a.d(c,"MESSAGE_VARIANTS",(function(){return ce})),a.d(c,"APPLICATION_ERROR_STATUS_CODES",(function(){return se})),a.d(c,"FILTER_TYPES",(function(){return le}));var s={};a.r(s),a.d(s,"formatData",(function(){return de})),a.d(s,"normalizeData",(function(){return me})),a.d(s,"mergeData",(function(){return ge}));var l={};a.r(l),a.d(l,"startGetStaticsLoading",(function(){return ke})),a.d(l,"stopGetStaticsLoading",(function(){return Pe})),a.d(l,"startGetAllShowsLoading",(function(){return Fe})),a.d(l,"stopGetAllShowsLoading",(function(){return We})),a.d(l,"startCheckUsernameLoading",(function(){return He})),a.d(l,"stopCheckUsernameLoading",(function(){return Ve})),a.d(l,"startRegisterLoading",(function(){return Me})),a.d(l,"stopRegisterLoading",(function(){return Be})),a.d(l,"startLoginLoading",(function(){return Ye})),a.d(l,"stopLoginLoading",(function(){return ze})),a.d(l,"startAddShowLoading",(function(){return qe})),a.d(l,"stopAddShowLoading",(function(){return Ke})),a.d(l,"startVoteShowLoading",(function(){return Xe})),a.d(l,"stopVoteShowLoading",(function(){return Qe}));var u={};a.r(u),a.d(u,"submitForLogin",(function(){return Ze})),a.d(u,"resetLoginState",(function(){return $e}));var d={};a.r(d),a.d(d,"checkUsername",(function(){return Je})),a.d(d,"registerUser",(function(){return et}));var m={};a.r(m),a.d(m,"getAllShows",(function(){return tt})),a.d(m,"addShow",(function(){return at})),a.d(m,"appendShows",(function(){return nt})),a.d(m,"updateShows",(function(){return rt})),a.d(m,"resetVotes",(function(){return it})),a.d(m,"upvoteShow",(function(){return ot})),a.d(m,"downvoteShow",(function(){return ct}));var g={};a.r(g),a.d(g,"getAllStatics",(function(){return st})),a.d(g,"updateTypeData",(function(){return lt})),a.d(g,"updateLanguageData",(function(){return ut})),a.d(g,"updateGenreData",(function(){return dt})),a.d(g,"addFilter",(function(){return mt})),a.d(g,"removeFilter",(function(){return gt})),a.d(g,"resetFilter",(function(){return Et}));var E={};a.r(E),a.d(E,"requestToShowToast",(function(){return pt})),a.d(E,"showToast",(function(){return St})),a.d(E,"hideToast",(function(){return ft}));var p={};a.r(p),a.d(p,"updateUserData",(function(){return Ot})),a.d(p,"setUsernameStatus",(function(){return Tt})),a.d(p,"resetUserData",(function(){return ht}));var S={};a.r(S),a.d(S,"getStaticsLoadingState",(function(){return Wt})),a.d(S,"getAllShowsLoadingState",(function(){return Ht})),a.d(S,"getRegisterLoadingState",(function(){return Vt})),a.d(S,"getLoginLoadingState",(function(){return Mt})),a.d(S,"getCheckUsernameLoadingState",(function(){return Bt})),a.d(S,"getAddShowSubmitLoadingState",(function(){return Yt}));var f={};a.r(f),a.d(f,"getAllShows",(function(){return qt}));var O={};a.r(O),a.d(O,"getAllTypes",(function(){return Jt})),a.d(O,"getAllLanguages",(function(){return ea})),a.d(O,"getAllGenres",(function(){return ta})),a.d(O,"getFilters",(function(){return aa})),a.d(O,"getAppliedFilters",(function(){return na}));var T={};a.r(T),a.d(T,"getToastState",(function(){return ia})),a.d(T,"getToastMessage",(function(){return oa})),a.d(T,"getToastVariant",(function(){return ca}));var h={};a.r(h),a.d(h,"isUserLoggedIn",(function(){return la})),a.d(h,"getAuthToken",(function(){return ua})),a.d(h,"getCurrentUserId",(function(){return da})),a.d(h,"getCurrentUsername",(function(){return ma})),a.d(h,"isValidUsername",(function(){return ga}));var b=a(0),_=a.n(b),A=a(20),L=a.n(A),v=a(468),I=a(73),w=a(217),y=a(58),R=a(119),j=a(55),N=Object(j.a)(),D=a(50),x=a(236),G=a(215),U=a(9),C={START_GET_STATICS_LOADING:"bwg/Loading/START_GET_STATICS_LOADING",STOP_GET_STATICS_LOADING:"bwg/Loading/STOP_GET_STATICS_LOADING",START_GET_ALL_SHOWS_LOADING:"bwg/Loading/START_GET_ALL_SHOWS_LOADING",STOP_GET_ALL_SHOWS_LOADING:"bwg/Loading/STOP_GET_ALL_SHOWS_LOADING",START_CHECK_USERNAME_LOADING:"bwg/Loading/START_CHECK_USERNAME_LOADING",STOP_CHECK_USERNAME_LOADING:"bwg/Loading/STOP_CHECK_USERNAME_LOADING",START_REGISTER_LOADING:"bwg/Loading/START_REGISTER_LOADING",STOP_REGISTER_LOADING:"bwg/Loading/STOP_REGISTER_LOADING",START_LOGIN_LOADING:"bwg/Loading/START_LOGIN_LOADING",STOP_LOGIN_LOADING:"bwg/Loading/STOP_LOGIN_LOADING",START_ADD_SHOW_LOADING:"bwg/Loading/START_ADD_SHOW_LOADING",STOP_ADD_SHOW_LOADING:"bwg/Loading/STOP_ADD_SHOW_LOADING",START_VOTE_SHOW_LOADING:"bwg/Loading/START_VOTE_SHOW_LOADING",STOP_VOTE_SHOW_LOADING:"bwg/Loading/STOP_VOTE_SHOW_LOADING"},k={REQUEST_TO_SHOW_TOAST:"bwg/Toast/REQUEST_TO_SHOW_TOAST",SHOW_TOAST:"bwg/Toast/SHOW_TOAST",HIDE_TOAST:"bwg/Toast/HIDE_TOAST"},P={CHECK_USERNAME:"bwg/Register/CHECK_USERNAME",REGISTER_USER:"bwg/Register/REGISTER_USER"},F={SUBMIT_FOR_LOGIN:"bwg/Login/SUBMIT_FOR_LOGIN",RESET_LOGIN_STATE:"bwg/Login/RESET_LOGIN_STATE"},W={UPDATE_USER_DATA:"bwg/User/UPDATE_USER_DATA",SET_USERNAME_STATUS:"bwg/User/SET_USERNAME_STATUS",RESET_USER_DATA:"bwg/User/RESET_USER_DATA"},H={GET_ALL_STATICS:"bwg/Static/GET_ALL_STATICS",UPDATE_TYPE_DATA:"bwg/Static/UPDATE_TYPE_DATA",UPDATE_LANGUAGE_DATA:"bwg/Static/UPDATE_LANGUAGE_DATA",UPDATE_GENRE_DATA:"bwg/Static/UPDATE_GENRE_DATA",ADD_FILTER:"bwg/Static/ADD_FILTER",REMOVE_FILTER:"bwg/Static/REMOVE_FILTER",RESET_FILTERS:"bwg/Static/RESET_FILTERS"},V={GET_ALL_SHOWS:"bwg/Shows/GET_ALL_SHOWS",ADD_SHOW:"bwg/Shows/ADD_SHOW",APPEND_SHOWS:"bwg/Shows/APPEND_SHOWS",UPDATE_SHOWS:"bwg/Shows/UPDATE_SHOWS",RESET_VOTES:"bwg/Shows/RESET_VOTES",UPVOTE_SHOW:"bwg/Shows/UPVOTE_SHOW",DOWNVOTE_SHOW:"bwg/Shows/DOWNVOTE_SHOW"},M={isGetStaticsLoading:!1,isGetAllShowsLoading:!1,isCheckUsernameLoading:!1,isRegisterSubmitLoading:!1,isLoginSubmitLoading:!1,isAddShowSubmitLoading:!1};function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.START_GET_STATICS_LOADING:return Object(U.a)({},e,{isGetStaticsLoading:!0});case C.STOP_GET_STATICS_LOADING:return Object(U.a)({},e,{isGetStaticsLoading:!1});case C.START_GET_ALL_SHOWS_LOADING:return Object(U.a)({},e,{isGetAllShowsLoading:!0});case C.STOP_GET_ALL_SHOWS_LOADING:return Object(U.a)({},e,{isGetAllShowsLoading:!1});case C.START_CHECK_USERNAME_LOADING:return Object(U.a)({},e,{isCheckUsernameLoading:!0});case C.STOP_CHECK_USERNAME_LOADING:return Object(U.a)({},e,{isCheckUsernameLoading:!1});case C.START_REGISTER_LOADING:return Object(U.a)({},e,{isRegisterSubmitLoading:!0});case C.STOP_REGISTER_LOADING:return Object(U.a)({},e,{isRegisterSubmitLoading:!1});case C.START_LOGIN_LOADING:return Object(U.a)({},e,{isLoginSubmitLoading:!0});case C.STOP_LOGIN_LOADING:return Object(U.a)({},e,{isLoginSubmitLoading:!1});case C.START_ADD_SHOW_LOADING:return Object(U.a)({},e,{isAddShowSubmitLoading:!0});case C.STOP_ADD_SHOW_LOADING:return Object(U.a)({},e,{isAddShowSubmitLoading:!1});default:return Object(U.a)({},e)}}var Y=a(22),z={shows:[]};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.APPEND_SHOWS:var a=e.shows,n=t.payload.shows,r=new Set(n.map((function(e){return e._id}))),i=[].concat(Object(Y.a)(n),Object(Y.a)(a.filter((function(e){return!r.has(e._id)}))));return Object(U.a)({},e,{shows:Object(Y.a)(i)});case V.UPDATE_SHOWS:return Object(U.a)({},e,{shows:Object(Y.a)(t.payload.shows)});case V.RESET_VOTES:var o=Object(Y.a)(e.shows).map((function(e){return Object(U.a)({},e,{haveUpvoted:!1,haveDownvoted:!1})}));return Object(U.a)({},e,{shows:o});default:return Object(U.a)({},e)}}var K=/^[a-z][a-z'-_.]{2,}$/i,X=/^[a-z][a-z'-_.]*$/i,Q=/((?:https?:\/\/)[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,24}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)?)/gi,Z={IS_LOGGED_IN:"U_i_l_i",EXPIRE_AT:"U_w_e_b",ID:"U_i",TOKEN:"U_p_k",USERNAME:"U_n"},$="https://binge-watchers-guide.herokuapp.com",J="".concat($,"/users/username/<USER_NAME>"),ee="".concat($,"/users"),te="".concat($,"/users/auth"),ae="".concat($,"/shows/statics"),ne="".concat($,"/shows"),re="".concat($,"/users/<USER_ID>/shows"),ie="".concat($,"/users/<USER_ID>/shows/<SHOW_ID>/upvote"),oe="".concat($,"/users/<USER_ID>/shows/<SHOW_ID>/downvote"),ce={SUCCESS:"success",WARNING:"warning",INFO:"info",ERROR:"error"},se={INTERNAL_SERVER_ERROR:500,UNAUTHORIZED:401,FORBIDDEN:403,MISSING_PARAMS:422,NOT_FOUND:404,NOT_ALLOWED:409},le={TYPE:"TYPE",LANGUAGE:"LANGUAGE",GENRE:"GENRE"},ue=a(147),de=function(e){return new ue.b.Entity("formattedData",{},{idAttribute:"_id",processStrategy:function(t){return Object(U.a)({},t,{type:e,isChecked:!1})}})},me=function(e,t){return Object(ue.a)(t,[de(e)])},ge=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.keys(t),n=0,r=a;n<r.length;n++){var i=r[n];e[i]&&(t[i]=Object(U.a)({},e[i],{},t[i]))}return Object(U.a)({},e,{},t)},Ee=a(219),pe=function(e){var t=Object(Ee.decode)(e.token),a=t&&1e3*t.exp;localStorage.setItem(Z.IS_LOGGED_IN,1),localStorage.setItem(Z.EXPIRE_AT,a),function(e){e._id&&localStorage.setItem(Z.ID,e._id),e.token&&localStorage.setItem(Z.TOKEN,e.token),e.username&&localStorage.setItem(Z.USERNAME,e.username)}(e)},Se=function(){var e=+localStorage.getItem(Z.IS_LOGGED_IN),t=+localStorage.getItem(Z.EXPIRE_AT);if(t&&1===e&&new Date(t)>new Date){var a={isLoggedIn:!0};return a.expireAt=+localStorage.getItem(Z.EXPIRE_AT),a._id=localStorage.getItem(Z.ID),a.token=localStorage.getItem(Z.TOKEN),a.username=localStorage.getItem(Z.USERNAME),{isLoggedIn:!0,userInfo:a}}return{isLoggedIn:!1,userInfo:null}},fe=function(){localStorage.removeItem(Z.IS_LOGGED_IN),localStorage.removeItem(Z.EXPIRE_AT),localStorage.removeItem(Z.ID),localStorage.removeItem(Z.TOKEN),localStorage.removeItem(Z.USERNAME)},Oe=Se(),Te=Oe.isLoggedIn,he=Oe.userInfo,be={types:{},languages:{},genres:{},appliedFilters:[],filter:{user_id:Te?he._id:null,types:[],languages:[],genres:[],q:null}};function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.UPDATE_TYPE_DATA:var a=s.normalizeData(c.FILTER_TYPES.TYPE,t.payload.types),n=a.entities,r=n.formattedData;return Object(U.a)({},e,{types:Object(U.a)({},r)});case H.UPDATE_LANGUAGE_DATA:var i=s.normalizeData(c.FILTER_TYPES.LANGUAGE,t.payload.languages),o=i.entities,l=o.formattedData;return Object(U.a)({},e,{languages:Object(U.a)({},l)});case H.UPDATE_GENRE_DATA:var u=s.normalizeData(c.FILTER_TYPES.GENRE,t.payload.genres),d=u.entities,m=d.formattedData;return Object(U.a)({},e,{genres:Object(U.a)({},m)});case H.ADD_FILTER:var g=t.payload.type?e.types[t.payload.type]:t.payload.language?e.languages[t.payload.language]:t.payload.genre?e.genres[t.payload.genre]:null,E=!g||e.appliedFilters.find((function(e){return e._id===g._id&&e.type===g.type}))?Object(Y.a)(e.appliedFilters):[].concat(Object(Y.a)(e.appliedFilters),[g]);return console.log("ADD HAS BEEN CALLED, ",g,"---",E),Object(U.a)({},e,{appliedFilters:E,filter:Object(U.a)({},e.filter,{types:t.payload.type?Object(Y.a)(new Set([].concat(Object(Y.a)(e.filter.types),[t.payload.type]))):Object(Y.a)(e.filter.types),languages:t.payload.language?Object(Y.a)(new Set([].concat(Object(Y.a)(e.filter.languages),[t.payload.language]))):Object(Y.a)(e.filter.languages),genres:t.payload.genre?Object(Y.a)(new Set([].concat(Object(Y.a)(e.filter.genres),[t.payload.genre]))):Object(Y.a)(e.filter.genres),q:t.payload.q})});case H.REMOVE_FILTER:var p=t.payload.type?e.types[t.payload.type]:t.payload.language?e.languages[t.payload.language]:t.payload.genre?e.genres[t.payload.genre]:null;console.log("REMOVE HAS BEEN CALLED",p);var S=e.appliedFilters.filter((function(e){return e._id!==p._id||e.type!==p.type}));return Object(U.a)({},e,{appliedFilters:S,filter:Object(U.a)({},e.filter,{types:t.payload.type?Object(Y.a)(e.filter.types.filter((function(e){return e!==p._id}))):Object(Y.a)(e.filter.types),languages:t.payload.language?Object(Y.a)(e.filter.languages.filter((function(e){return e!==p._id}))):Object(Y.a)(e.filter.languages),genres:t.payload.genre?Object(Y.a)(e.filter.genres.filter((function(e){return e!==p._id}))):Object(Y.a)(e.filter.genres),q:t.payload.q||e.filter.q})});case H.RESET_FILTERS:return Object(U.a)({},e,{appliedFilters:[],filter:Object(U.a)({},e.filter,{user_id:Te?he._id:null,types:[],languages:[],genres:[],q:null})});default:return Object(U.a)({},e)}}var Ae={show:!1,message:null,variant:null};function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.REQUEST_TO_SHOW_TOAST:return Object(U.a)({},e,{message:t.payload.message,variant:t.payload.variant});case k.SHOW_TOAST:return Object(U.a)({},e,{show:!0,message:t.payload.message,variant:t.payload.variant});case k.HIDE_TOAST:return Object(U.a)({},e,{show:!1,message:null,variant:null});default:return Object(U.a)({},e)}}var ve=Se(),Ie=ve.isLoggedIn,we=ve.userInfo,ye={isLoggedIn:!1,_id:null,username:null,token:null,isValidUsername:!0},Re=Ie?we:ye;function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.UPDATE_USER_DATA:return Object(U.a)({},e,{isLoggedIn:!0,_id:t.payload.userInfo._id,username:t.payload.userInfo.username,token:t.payload.userInfo.token});case W.SET_USERNAME_STATUS:return Object(U.a)({},e,{isValidUsername:t.payload.status});case W.RESET_USER_DATA:return Object(U.a)({},ye);default:return Object(U.a)({},e)}}var Ne=function(e){return Object(D.c)({router:Object(I.b)(e),toast:Le,loading:B,static:_e,user:je,shows:q})},De=a(10),xe=a.n(De),Ge=a(7),Ue=a(27),Ce=a.n(Ue);function ke(){return{type:C.START_GET_STATICS_LOADING}}function Pe(){return{type:C.STOP_GET_STATICS_LOADING}}function Fe(){return{type:C.START_GET_ALL_SHOWS_LOADING}}function We(){return{type:C.STOP_GET_ALL_SHOWS_LOADING}}function He(){return{type:C.START_CHECK_USERNAME_LOADING}}function Ve(){return{type:C.STOP_CHECK_USERNAME_LOADING}}function Me(){return{type:C.START_REGISTER_LOADING}}function Be(){return{type:C.STOP_REGISTER_LOADING}}function Ye(){return{type:C.START_LOGIN_LOADING}}function ze(){return{type:C.STOP_LOGIN_LOADING}}function qe(){return{type:C.START_ADD_SHOW_LOADING}}function Ke(){return{type:C.STOP_ADD_SHOW_LOADING}}function Xe(){return{type:C.START_VOTE_SHOW_LOADING}}function Qe(){return{type:C.STOP_VOTE_SHOW_LOADING}}function Ze(e,t){return{type:F.SUBMIT_FOR_LOGIN,payload:{username:e,password:t}}}function $e(){return{type:F.RESET_LOGIN_STATE}}function Je(e){return{type:P.CHECK_USERNAME,payload:{username:e}}}function et(e,t){return{type:P.REGISTER_USER,payload:{username:e,password:t}}}function tt(){return{type:V.GET_ALL_SHOWS}}function at(e){return{type:V.ADD_SHOW,payload:{show:e}}}function nt(e){return{type:V.APPEND_SHOWS,payload:{shows:e}}}function rt(e){return{type:V.UPDATE_SHOWS,payload:{shows:e}}}function it(){return{type:V.RESET_VOTES}}function ot(e,t){return{type:V.UPVOTE_SHOW,payload:{showId:e,isUpvote:t}}}function ct(e,t){return{type:V.DOWNVOTE_SHOW,payload:{showId:e,isDownvote:t}}}function st(){return{type:H.GET_ALL_STATICS}}function lt(e){return{type:H.UPDATE_TYPE_DATA,payload:{types:e}}}function ut(e){return{type:H.UPDATE_LANGUAGE_DATA,payload:{languages:e}}}function dt(e){return{type:H.UPDATE_GENRE_DATA,payload:{genres:e}}}function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,a=void 0===t?null:t,n=e.language,r=void 0===n?null:n,i=e.genre,o=void 0===i?null:i,c=e.q,s=void 0===c?null:c;return{type:H.ADD_FILTER,payload:{type:a,language:r,genre:o,q:s}}}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,a=void 0===t?null:t,n=e.language,r=void 0===n?null:n,i=e.genre,o=void 0===i?null:i;return{type:H.REMOVE_FILTER,payload:{type:a,language:r,genre:o}}}function Et(){return{type:H.RESET_FILTERS}}function pt(e,t){return{type:k.REQUEST_TO_SHOW_TOAST,payload:{variant:e,message:t}}}function St(e,t){return{type:k.SHOW_TOAST,payload:{variant:e,message:t}}}function ft(){return{type:k.HIDE_TOAST}}function Ot(e){return{type:W.UPDATE_USER_DATA,payload:{userInfo:e}}}function Tt(e){return{type:W.SET_USERNAME_STATUS,payload:{status:e}}}function ht(){return{type:W.RESET_USER_DATA}}var bt=function(e){e.interceptors.response.use((function(e){return e}),(function(e){var t=e.response,a=t.status,n=t.data;if(a===c.APPLICATION_ERROR_STATUS_CODES.UNAUTHORIZED||a===c.APPLICATION_ERROR_STATUS_CODES.NOT_ALLOWED){var r=n.message;Za.dispatch(E.requestToShowToast(c.MESSAGE_VARIANTS.WARNING,r))}else a===c.APPLICATION_ERROR_STATUS_CODES.FORBIDDEN?Za.dispatch(E.requestToShowToast(c.MESSAGE_VARIANTS.WARNING,"You are not allowed to access this.")):a===c.APPLICATION_ERROR_STATUS_CODES.MISSING_PARAMS||a===c.APPLICATION_ERROR_STATUS_CODES.NOT_FOUND?Za.dispatch(E.requestToShowToast(c.MESSAGE_VARIANTS.WARNING,"The request you sent looks incomplete. Please check and try again.")):a===c.APPLICATION_ERROR_STATUS_CODES.INTERNAL_SERVER_ERROR&&Za.dispatch(E.requestToShowToast(c.MESSAGE_VARIANTS.ERROR,"Some issue occured with the server. Please try again in sometime."));return Promise.reject(e)}))},_t=xe.a.mark(vt),At=xe.a.mark(It),Lt=xe.a.mark(wt);function vt(e){var t,a,n,r,i,s,u,d;return xe.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=e.payload,g.prev=1,bt(Ce.a),a=o.LOGIN_URL,n=t,r={"Content-Type":"application/json"},g.next=8,Ce.a.post(a,n,{headers:r});case 8:return i=g.sent,g.next=11,Object(Ge.e)(l.stopLoginLoading());case 11:if(!i||200!==i.status){g.next=22;break}return s=i.data,u=s.message,d=s.data.user,pe(d),g.next=18,Object(Ge.e)(E.requestToShowToast(c.MESSAGE_VARIANTS.SUCCESS,u));case 18:return g.next=20,Object(Ge.e)(p.updateUserData(d));case 20:return g.next=22,Object(Ge.e)(m.getAllShows({userId:d._id}));case 22:g.next=28;break;case 24:return g.prev=24,g.t0=g.catch(1),g.next=28,Object(Ge.e)(l.stopLoginLoading());case 28:case"end":return g.stop()}}),_t,null,[[1,24]])}function It(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.h)(n.LOGIN.SUBMIT_FOR_LOGIN,vt);case 2:case"end":return e.stop()}}),At)}function wt(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([It()]);case 2:case"end":return e.stop()}}),Lt)}var yt=xe.a.mark(xt),Rt=xe.a.mark(Gt),jt=xe.a.mark(Ut),Nt=xe.a.mark(Ct),Dt=xe.a.mark(kt);function xt(e){var t,a,n,r,i,c,s;return xe.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.payload,u.prev=1,bt(Ce.a),a=t.username,n=o.CHECK_USERNAME.replace(/<USER_NAME>/,a),r={"Content-Type":"application/json"},u.next=8,Ce.a.get(n,{headers:r});case 8:return i=u.sent,u.next=11,Object(Ge.e)(l.stopCheckUsernameLoading());case 11:if(!i||200!==i.status){u.next=16;break}return c=i.data,s=c.success,u.next=16,Object(Ge.e)(p.setUsernameStatus(s));case 16:u.next=22;break;case 18:return u.prev=18,u.t0=u.catch(1),u.next=22,Object(Ge.e)(l.stopCheckUsernameLoading());case 22:case"end":return u.stop()}}),yt,null,[[1,18]])}function Gt(e){var t,a,n,r,i,s,u,d;return xe.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:return t=e.payload,g.prev=1,bt(Ce.a),a=o.REGISTER_URL,n=t,r={"Content-Type":"application/json"},g.next=8,Ce.a.post(a,n,{headers:r});case 8:return i=g.sent,g.next=11,Object(Ge.e)(l.stopRegisterLoading());case 11:if(!i||201!==i.status){g.next=22;break}return s=i.data,u=s.message,d=s.data.user,pe(d),g.next=18,Object(Ge.e)(E.requestToShowToast(c.MESSAGE_VARIANTS.SUCCESS,u));case 18:return g.next=20,Object(Ge.e)(p.updateUserData(d));case 20:return g.next=22,Object(Ge.e)(m.getAllShows({userId:d._id}));case 22:g.next=28;break;case 24:return g.prev=24,g.t0=g.catch(1),g.next=28,Object(Ge.e)(l.stopRegisterLoading());case 28:case"end":return g.stop()}}),Rt,null,[[1,24]])}function Ut(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.b)(1e3,n.REGISTER.CHECK_USERNAME,xt);case 2:case"end":return e.stop()}}),jt)}function Ct(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.h)(n.REGISTER.REGISTER_USER,Gt);case 2:case"end":return e.stop()}}),Nt)}function kt(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([Ut(),Ct()]);case 2:case"end":return e.stop()}}),Dt)}var Pt=a(21),Ft=function(e){return e.loading},Wt=function(){return Object(Pt.a)(Ft,(function(e){return e.isGetStaticsLoading}))},Ht=function(){return Object(Pt.a)(Ft,(function(e){return e.isGetAllShowsLoading}))},Vt=function(){return Object(Pt.a)(Ft,(function(e){return e.isRegisterSubmitLoading}))},Mt=function(){return Object(Pt.a)(Ft,(function(e){return e.isLoginSubmitLoading}))},Bt=function(){return Object(Pt.a)(Ft,(function(e){return e.isCheckUsernameLoading}))},Yt=function(){return Object(Pt.a)(Ft,(function(e){return e.isAddShowSubmitLoading}))},zt=function(e){return e.shows},qt=function(){return Object(Pt.a)(zt,(function(e){return e.shows.sort((function(e,t){return new Date(t.created_at)-new Date(e.created_at)}))}))},Kt=function(e){return e.static.types},Xt=function(e){return e.static.languages},Qt=function(e){return e.static.genres},Zt=function(e){return e.static.filter},$t=function(e){return e.static.appliedFilters},Jt=function(){return Object(Pt.a)([Kt,Zt],(function(e,t){for(var a=Object.keys(e),n=Object(U.a)({},e),r=0,i=a;r<i.length;r++){var o=i[r];new Set(t.types).has(o)?n[o].isChecked=!0:n[o].isChecked=!1}return n}))},ea=function(){return Object(Pt.a)([Xt,Zt],(function(e,t){for(var a=Object.keys(e),n=Object(U.a)({},e),r=0,i=a;r<i.length;r++){var o=i[r];new Set(t.languages).has(o)?n[o].isChecked=!0:n[o].isChecked=!1}return n}))},ta=function(){return Object(Pt.a)([Qt,Zt],(function(e,t){for(var a=Object.keys(e),n=Object(U.a)({},e),r=0,i=a;r<i.length;r++){var o=i[r];new Set(t.genres).has(o)?n[o].isChecked=!0:n[o].isChecked=!1}return n}))},aa=function(){return Object(Pt.a)(Zt,(function(e){return e}))},na=function(){return Object(Pt.a)($t,(function(e){return e}))},ra=function(e){return e.toast},ia=function(){return Object(Pt.a)(ra,(function(e){return e.show}))},oa=function(){return Object(Pt.a)(ra,(function(e){return e.message}))},ca=function(){return Object(Pt.a)(ra,(function(e){return e.variant}))},sa=function(e){return e.user},la=function(){return Object(Pt.a)(sa,(function(e){return e.isLoggedIn}))},ua=function(){return Object(Pt.a)(sa,(function(e){return e._id&&e.token&&"Bearer "+e._id+","+e.token}))},da=function(){return Object(Pt.a)(sa,(function(e){return e._id}))},ma=function(){return Object(Pt.a)(sa,(function(e){return e.username}))},ga=function(){return Object(Pt.a)(sa,(function(e){return e.isValidUsername}))},Ea=xe.a.mark(Aa),pa=xe.a.mark(La),Sa=xe.a.mark(va),fa=xe.a.mark(Ia),Oa=xe.a.mark(wa),Ta=xe.a.mark(ya),ha=xe.a.mark(Ra),ba=xe.a.mark(ja),_a=xe.a.mark(Na);function Aa(){var e,t,a,n,r,i,c,s,u,d,g,E,p,S;return xe.a.wrap((function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,bt(Ce.a),f.next=4,Object(Ge.f)(h.getAuthToken());case 4:return e=f.sent,f.next=7,Object(Ge.f)(O.getFilters());case 7:return t=f.sent,a=t.userId,n=t.types,r=t.languages,i=t.genres,c=t.q,s=o.GET_ALL_SHOWS,u=Object(U.a)({"Content-Type":"application/json"},e&&{Authorization:e}),d=Object(U.a)({},a&&{user_id:a},{},n&&n.length>0&&{types:n.join(",")},{},r&&r.length>0&&{languages:r.join(",")},{},i&&i.length>0&&{genres:i.join(",")},{},c&&""!==c&&{q:c}),g=n&&n.length>0||r&&r.length>0||i&&i.length>0||c&&""!==c,f.next=15,Ce.a.get(s,{headers:u,params:d});case 15:return E=f.sent,f.next=18,Object(Ge.e)(l.stopGetAllShowsLoading());case 18:if(!E||200!==E.status){f.next=28;break}if(p=E.data,S=p.data.shows,!g){f.next=26;break}return f.next=24,Object(Ge.e)(m.updateShows(S));case 24:f.next=28;break;case 26:return f.next=28,Object(Ge.e)(m.appendShows(S));case 28:f.next=34;break;case 30:return f.prev=30,f.t0=f.catch(0),f.next=34,Object(Ge.e)(l.stopGetAllShowsLoading());case 34:case"end":return f.stop()}}),Ea,null,[[0,30]])}function La(e){var t,a,n,r,i,s,u,d,g,p;return xe.a.wrap((function(S){for(;;)switch(S.prev=S.next){case 0:return t=e.payload,S.prev=1,bt(Ce.a),S.next=5,Object(Ge.f)(h.getCurrentUserId());case 5:return a=S.sent,S.next=8,Object(Ge.f)(h.getAuthToken());case 8:return n=S.sent,r=o.ADD_SHOWS.replace(/<USER_ID>/,a),i=t.show,s={"Content-Type":"application/json",Authorization:n},S.next=14,Ce.a.post(r,i,{headers:s});case 14:return u=S.sent,S.next=17,Object(Ge.e)(l.stopAddShowLoading());case 17:if(!u||201!==u.status){S.next=25;break}return d=u.data,g=d.message,p=d.data.show,S.next=23,Object(Ge.e)(m.appendShows([p]));case 23:return S.next=25,Object(Ge.e)(E.requestToShowToast(c.MESSAGE_VARIANTS.SUCCESS,g));case 25:S.next=31;break;case 27:return S.prev=27,S.t0=S.catch(1),S.next=31,Object(Ge.e)(l.stopAddShowLoading());case 31:case"end":return S.stop()}}),pa,null,[[1,27]])}function va(e){var t,a,n,r,i,c,s,u,d,g,E;return xe.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,p.prev=1,bt(Ce.a),p.next=5,Object(Ge.f)(h.getCurrentUserId());case 5:return a=p.sent,p.next=8,Object(Ge.f)(h.getAuthToken());case 8:return n=p.sent,r=t.showId,i=t.isUpvote,c=o.UPVOTE_SHOW.replace(/<USER_ID>/,a).replace(/<SHOW_ID>/,r),s={isUpvote:i},u={"Content-Type":"application/json",Authorization:n},p.next=15,Ce.a.post(c,s,{headers:u});case 15:return d=p.sent,p.next=18,Object(Ge.e)(l.stopVoteShowLoading());case 18:if(!d||200!==d.status){p.next=23;break}return g=d.data,E=g.data.show,p.next=23,Object(Ge.e)(m.appendShows([E]));case 23:p.next=29;break;case 25:return p.prev=25,p.t0=p.catch(1),p.next=29,Object(Ge.e)(l.stopVoteShowLoading());case 29:case"end":return p.stop()}}),Sa,null,[[1,25]])}function Ia(e){var t,a,n,r,i,c,s,u,d,g,E;return xe.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return t=e.payload,p.prev=1,bt(Ce.a),p.next=5,Object(Ge.f)(h.getCurrentUserId());case 5:return a=p.sent,p.next=8,Object(Ge.f)(h.getAuthToken());case 8:return n=p.sent,r=t.showId,i=t.isDownvote,c=o.DOWNVOTE_SHOW.replace(/<USER_ID>/,a).replace(/<SHOW_ID>/,r),s={isDownvote:i},u={"Content-Type":"application/json",Authorization:n},p.next=15,Ce.a.post(c,s,{headers:u});case 15:return d=p.sent,p.next=18,Object(Ge.e)(l.stopVoteShowLoading());case 18:if(!d||200!==d.status){p.next=23;break}return g=d.data,E=g.data.show,p.next=23,Object(Ge.e)(m.appendShows([E]));case 23:p.next=29;break;case 25:return p.prev=25,p.t0=p.catch(1),p.next=29,Object(Ge.e)(l.stopVoteShowLoading());case 29:case"end":return p.stop()}}),fa,null,[[1,25]])}function wa(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.b)(600,n.SHOWS.GET_ALL_SHOWS,Aa);case 2:case"end":return e.stop()}}),Oa)}function ya(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.g)(n.SHOWS.ADD_SHOW,La);case 2:case"end":return e.stop()}}),Ta)}function Ra(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.g)(n.SHOWS.UPVOTE_SHOW,va);case 2:case"end":return e.stop()}}),ha)}function ja(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.g)(n.SHOWS.DOWNVOTE_SHOW,Ia);case 2:case"end":return e.stop()}}),ba)}function Na(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([wa(),ya(),Ra(),ja()]);case 2:case"end":return e.stop()}}),_a)}var Da=xe.a.mark(Ua),xa=xe.a.mark(Ca),Ga=xe.a.mark(ka);function Ua(){var e,t,a,n,r,i,c,s;return xe.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,bt(Ce.a),e=o.GET_STATICS,t={"Content-Type":"application/json"},u.next=6,Ce.a.get(e,{headers:t});case 6:return a=u.sent,u.next=9,Object(Ge.e)(l.stopGetStaticsLoading());case 9:if(!a||200!==a.status){u.next=18;break}return n=a.data,r=n.data,i=r.types,c=r.languages,s=r.genres,u.next=14,Object(Ge.e)(g.updateTypeData(i));case 14:return u.next=16,Object(Ge.e)(g.updateLanguageData(c));case 16:return u.next=18,Object(Ge.e)(g.updateGenreData(s));case 18:u.next=24;break;case 20:return u.prev=20,u.t0=u.catch(0),u.next=24,Object(Ge.e)(l.stopGetStaticsLoading());case 24:case"end":return u.stop()}}),Da,null,[[0,20]])}function Ca(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.g)(n.STATIC.GET_ALL_STATICS,Ua);case 2:case"end":return e.stop()}}),xa)}function ka(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([Ca()]);case 2:case"end":return e.stop()}}),Ga)}var Pa=xe.a.mark(Ha),Fa=xe.a.mark(Va),Wa=xe.a.mark(Ma);function Ha(){var e,t;return xe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ge.f)(T.getToastVariant());case 2:return e=a.sent,a.next=5,Object(Ge.f)(T.getToastMessage());case 5:return t=a.sent,a.next=8,Object(Ge.e)(E.hideToast());case 8:return a.next=10,Object(Ge.c)(100);case 10:return a.next=12,Object(Ge.e)(E.showToast(e,t));case 12:case"end":return a.stop()}}),Pa)}function Va(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.g)(n.TOAST.REQUEST_TO_SHOW_TOAST,Ha);case 2:case"end":return e.stop()}}),Fa)}function Ma(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([Va()]);case 2:case"end":return e.stop()}}),Wa)}var Ba=xe.a.mark(Ya);function Ya(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([Object(Ge.d)(wt),Object(Ge.d)(kt),Object(Ge.d)(Na),Object(Ge.d)(ka),Object(Ge.d)(Ma)]);case 2:case"end":return e.stop()}}),Ba)}var za=function(e){return function(t){return function(a){var n=+localStorage.getItem(i.USER.EXPIRE_AT);!Se().isLoggedIn&&n&&(fe(),e.dispatch(E.requestToShowToast(c.MESSAGE_VARIANTS.WARNING,"Your session has expired. Please login again."))),t(a)}}},qa=Object(x.a)(),Ka=D.d,Xa=[Object(D.a)(qa,za,Object(G.a)(N))],Qa=Object(D.e)(Ne(N),Ka.apply(void 0,Xa));qa.run(Ya);var Za=Qa,$a=(a(387),a(235)),Ja=Object($a.a)({typography:{fontFamily:'"Lato"',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500},palette:{primary:{light:"#3492ca",main:"#0277bd",dark:"#015384"},secondary:{light:"#fbcc57",main:"#fbc02d",dark:"#af861f"}}}),en=a(104),tn=a(105),an=a(118),nn=a(106),rn=a(120),on=a(31),cn=a(474),sn=a(444),ln=a(471),un=a(19),dn=a(454),mn=a(450),gn=a(472),En=a(396),pn=a(455),Sn=a(82),fn=a.n(Sn),On=a(222),Tn=a.n(On),hn=a(452),bn=a(154),_n=a(83),An=a(442),Ln=a(3),vn=a(470),In=a(473),wn=a(445),yn=a(446),Rn=a(447),jn=a(397),Nn=a(448),Dn=a(449),xn=a(221),Gn=a.n(xn),Un=function(){return{filterArea:{paddingTop:".5rem",paddingBottom:".5rem"},expansionPanelHeading:{borderBottom:"1px solid #C3C3C3"},expansionPanelBody:{padding:0},filterListArea:{width:"100%",maxHeight:150,overflow:"auto"}}},Cn=function(e){var t=e.title,a=e.values,n=e.expanded,r=e.handleExpansion,i=e.handleOnCheckBoxClick,o=Object(An.a)(Un)();return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{className:o.filterArea,item:!0,xs:12},_.a.createElement(In.a,{square:!0,expanded:n},_.a.createElement(wn.a,{className:Object(Ln.a)(n&&o.expansionPanelHeading),expandIcon:_.a.createElement(Gn.a,null),onClick:r},_.a.createElement(_n.a,{variant:"h6"},t)),_.a.createElement(yn.a,{className:o.expansionPanelBody},_.a.createElement(Rn.a,{className:o.filterListArea},Object.values(a).map((function(e){return _.a.createElement(jn.a,{key:e._id,role:void 0,dense:!0,button:!0,onClick:i(e)},_.a.createElement(Nn.a,null,_.a.createElement(vn.a,{edge:"start",checked:e.isChecked,tabIndex:-1,disableRipple:!0})),_.a.createElement(Dn.a,{primary:e.name}))})))))))},kn=function(e){return{filterArea:{margin:e.spacing(1)},filterChipsArea:{marginTop:".5rem",marginBottom:".5rem",backgroundColor:"#F7F7F7"},chips:{padding:".25rem",margin:".5rem"},divider:{marginTop:"1rem",marginBottom:"1rem"}}},Pn=function(e){var t=e.types,a=e.languages,n=e.genres,r=e.appliedFilters;console.log("appliedFilters: ",r);var i=Object(An.a)(kn)(),o=_.a.useState(!0),s=Object(un.a)(o,2),l=s[0],u=s[1],d=_.a.useState(!1),m=Object(un.a)(d,2),g=m[0],E=m[1],p=_.a.useState(!1),S=Object(un.a)(p,2),f=S[0],O=S[1],T=function(e){e===c.FILTER_TYPES.TYPE?u(!l):e===c.FILTER_TYPES.LANGUAGE?E(!g):e===c.FILTER_TYPES.GENRE&&O(!f)},h=function(t){return function(){var a=e.addFilter,n=e.removeFilter;t.type===c.FILTER_TYPES.TYPE?t.isChecked?n({type:t._id}):a({type:t._id}):t.type===c.FILTER_TYPES.LANGUAGE?t.isChecked?n({language:t._id}):a({language:t._id}):t.type===c.FILTER_TYPES.GENRE&&(t.isChecked?n({genre:t._id}):a({genre:t._id}))}},b=function(){var t=e.getAllShows,a=e.handleCloseFilterArea;t(),a&&a()},A=r&&r.length>0&&r.map((function(t){return _.a.createElement(cn.a,{className:i.chips,key:t._id+" "+t.type,variant:"outlined",color:"primary",label:t.name,onDelete:(a=t,function(){var t=e.removeFilter;a.type===c.FILTER_TYPES.TYPE?t({type:a._id}):a.type===c.FILTER_TYPES.LANGUAGE?t({language:a._id}):a.type===c.FILTER_TYPES.GENRE&&t({genre:a._id})})});var a}));return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{className:i.filterArea},_.a.createElement(sn.a,{container:!0,justify:"space-between"},_.a.createElement(sn.a,{item:!0,xs:!0},_.a.createElement(_n.a,{variant:"h6"},"Filters")),r&&r.length>0&&_.a.createElement(sn.a,{item:!0,xs:4},_.a.createElement(mn.a,{color:"primary",fullWidth:!0,disabled:r&&r.length<1,onClick:function(){(0,e.resetFilter)()}},"Clear All"))),_.a.createElement(bn.a,{className:i.filterChipsArea,elevation:0},A),r&&r.length>0&&_.a.createElement(_.a.Fragment,null,_.a.createElement(ln.a,{smDown:!0},_.a.createElement(sn.a,{item:!0,md:5},_.a.createElement(mn.a,{variant:"contained",color:"primary",fullWidth:!0,disabled:r&&r.length<1,onClick:b},"Apply"))),_.a.createElement(ln.a,{mdUp:!0},_.a.createElement(sn.a,{container:!0,justify:"center"},_.a.createElement(sn.a,{item:!0,xs:6},_.a.createElement(mn.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:r&&r.length<1,onClick:b},"Apply"))))),_.a.createElement(hn.a,{className:i.divider}),_.a.createElement(Cn,{title:"Types",values:t,expanded:l,handleExpansion:function(){return T(c.FILTER_TYPES.TYPE)},handleOnCheckBoxClick:h}),_.a.createElement(Cn,{title:"Languages",values:a,expanded:g,handleExpansion:function(){return T(c.FILTER_TYPES.LANGUAGE)},handleOnCheckBoxClick:h}),_.a.createElement(Cn,{title:"Genres",values:n,expanded:f,handleExpansion:function(){return T(c.FILTER_TYPES.GENRE)},handleOnCheckBoxClick:h})))},Fn=a(453),Wn=_.a.forwardRef((function(e,t){return _.a.createElement(_.a.Fragment,null,_.a.createElement(Fn.a,Object.assign({direction:"up",ref:t},e)),";")})),Hn=function(e){var t=_.a.useState(!1),a=Object(un.a)(t,2),n=a[0],r=a[1],i=function(){r(!1)};return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{container:!0,justify:"center"},_.a.createElement(sn.a,{item:!0,xs:8},_.a.createElement(mn.a,{color:"primary",size:"large",startIcon:_.a.createElement(Tn.a,null),onClick:function(){r(!0)},fullWidth:!0},"Filter List"))),_.a.createElement(gn.a,{open:n,keepMounted:!1,TransitionComponent:Wn,fullScreen:!0,maxWidth:"sm",onClose:i},_.a.createElement(dn.a,{position:"sticky"},_.a.createElement(pn.a,null,_.a.createElement(En.a,{edge:"start",color:"inherit",onClick:i},_.a.createElement(fn.a,null)))),_.a.createElement(Pn,Object.assign({},e,{handleCloseFilterArea:i}))))},Vn=a(456),Mn=a(457),Bn=function(e){return{filterArea:{margin:e.spacing(3,1)}}},Yn=function(e){var t=Object(An.a)(Bn)();return _.a.createElement(_.a.Fragment,null,_.a.createElement(Vn.a,{className:t.filterArea},_.a.createElement(Mn.a,null,_.a.createElement(Pn,e))))},zn=a(223),qn=a.n(zn),Kn=function(e){var t=e.loading;return _.a.createElement(sn.a,{container:!0,justify:"center",alignItems:"center",style:{height:"100vh"}},_.a.createElement(qn.a,{color:"#FFDF46",size:50,loading:t}))},Xn=a(451),Qn=a(225),Zn=a.n(Qn),$n=a(224),Jn=a.n($n),er=a(226),tr=a.n(er),ar=a(149),nr=a.n(ar),rr=a(28),ir=a(39),or=function(e){var t,a;return{descriptionArea:(t={paddingTop:"2rem",paddingRight:"2rem"},Object(ir.a)(t,e.breakpoints.down("sm"),{paddingRight:"1rem"}),Object(ir.a)(t,e.breakpoints.down("xs"),{paddingRight:"0rem"}),t),titleArea:{marginBottom:"1rem"},title:(a={fontWeight:700,fontSize:30,color:"#424242"},Object(ir.a)(a,e.breakpoints.down("sm"),{fontWeight:600,fontSize:26}),Object(ir.a)(a,e.breakpoints.down("xs"),{fontWeight:600,fontSize:22}),a),watchButton:Object(ir.a)({fontWeight:600,paddingRight:"2rem",paddingLeft:"2rem"},e.breakpoints.down("xs"),{fontWeight:500,paddingRight:"1rem",paddingLeft:"1rem"}),metadataArea:{marginTop:".5rem",marginBottom:"1rem"},tabArea:{marginTop:".5rem"},languageIcon:{color:"#8097A4"},languageText:{marginLeft:".75rem",fontSize:16,color:"#8097A4"},typeIcon:{color:"#556B84"},typeText:{marginLeft:".75rem",fontSize:16,color:"#556B84"},genreIcon:{color:"#125BA2"},genreTab:{marginLeft:".75rem"}}},cr=function(e){var t=Object(An.a)(or)(),a=Object(rr.a)(),n=Object(Xn.a)(a.breakpoints.down("xs")),r=e.name,i=e.url,o=e.language,c=e.type,s=e.genres,l=s&&s.map((function(e,a){return _.a.createElement(cn.a,{key:a,className:t.genreTab,variant:"outlined",color:"primary",size:"small",label:e})}));return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{className:t.descriptionArea},_.a.createElement(sn.a,{className:t.titleArea,container:!0,justify:"space-between"},_.a.createElement(_n.a,{className:t.title},r),i&&_.a.createElement(mn.a,{className:t.watchButton,variant:"contained",color:"default",endIcon:!n&&_.a.createElement(nr.a,null),disableElevation:!0,onClick:function(){return window.open(i,"_blank")}},n?_.a.createElement(nr.a,null):"Watch")),_.a.createElement(hn.a,null),_.a.createElement(sn.a,{className:t.metadataArea,container:!0},_.a.createElement(sn.a,{className:t.tabArea,item:!0,xs:12,sm:3},_.a.createElement(sn.a,{container:!0,alignItems:"center"},_.a.createElement(sn.a,{item:!0},_.a.createElement(Jn.a,{className:t.languageIcon})),_.a.createElement(sn.a,{item:!0},_.a.createElement(_n.a,{className:t.languageText,variant:"subtitle2",display:"inline"},o)))),_.a.createElement(sn.a,{className:t.tabArea,item:!0,xs:12,sm:3},_.a.createElement(sn.a,{container:!0,alignItems:"center"},_.a.createElement(sn.a,{item:!0},_.a.createElement(Zn.a,{className:t.typeIcon})),_.a.createElement(sn.a,{item:!0},_.a.createElement(_n.a,{className:t.typeText,variant:"subtitle2",display:"inline"},c)))),_.a.createElement(sn.a,{className:t.tabArea,item:!0,xs:12,sm:!0},_.a.createElement(sn.a,{container:!0,alignItems:"center"},_.a.createElement(sn.a,{item:!0},_.a.createElement(tr.a,{className:t.genreIcon})),_.a.createElement(sn.a,{item:!0},l))))))},sr=a(458),lr=a(227),ur=a.n(lr),dr=a(228),mr=a.n(dr),gr=function(e){return{element:{padding:".25rem, 0rem"},icons:{color:e.palette.text.secondary},upvoted:{color:e.palette.success.light},downvoted:{color:e.palette.error.light},vote:{marginRight:".75rem"},voteExpanded:{marginRight:".5rem"},voteExpandedDivider:{marginTop:".25rem",marginBotton:".25rem",marginLeft:"1.25rem",marginRight:"-1rem"}}},Er=function(e){var t=Object(An.a)(gr)(),a=e.isUserLoggedIn,n=e.requestToShowToast,r=e.setLoginPopupState,i=e.onUpvoteShow,o=e.onDownvoteShow,s=e._id,l=e.upvotes,u=e.downvotes,d=e.haveUpvoted,m=e.haveDownvoted,g=l-u,E=_.a.useState(!1),p=Object(un.a)(E,2),S=p[0],f=p[1],O=_.a.useState(!0),T=Object(un.a)(O,2),h=T[0],b=T[1],A=_.a.createElement(_.a.Fragment,null,_.a.createElement(sr.a,{in:S,timeout:500},_.a.createElement(sn.a,{container:!0},_.a.createElement(sn.a,{className:t.upvoted,item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(_n.a,{variant:"h6"},"+ "+l))),_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(hn.a,{className:t.voteExpandedDivider})),_.a.createElement(sn.a,{className:t.downvoted,item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(_n.a,{variant:"h6"},"- "+u))))));return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{className:t.element,item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(En.a,{onClick:function(){a?i(s,!d):(r(!0),n(c.MESSAGE_VARIANTS.INFO,"You have to login to vote."))}},_.a.createElement(ur.a,{fontSize:"large",className:Object(Ln.a)(t.icons,d&&t.upvoted)})))),_.a.createElement(sn.a,{className:t.element,item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(En.a,{disableRipple:!0,disableTouchRipple:!0,disableFocusRipple:!0,className:Object(Ln.a)(S?t.voteExpanded:t.vote),onClick:function(){S?(f(!S),setTimeout((function(){return b(S)}),500)):(b(S),setTimeout((function(){return f(!S)}),500))}},S?A:_.a.createElement(sr.a,{in:h,timeout:500},_.a.createElement(_n.a,{variant:"h6"},g))))),_.a.createElement(sn.a,{className:t.element,item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(En.a,{onClick:function(){a?o(s,!m):(r(!0),n(c.MESSAGE_VARIANTS.INFO,"You have to login to vote."))}},_.a.createElement(mr.a,{fontSize:"large",className:Object(Ln.a)(t.icons,!d&&m&&t.downvoted)})))))},pr=function(e){return{cardArea:{margin:e.spacing(3,1)},dividerArea:Object(ir.a)({marginLeft:"1rem",marginRight:"1rem"},e.breakpoints.down("sm"),{marginLeft:"0rem",marginRight:".75rem"})}},Sr=function(e){var t=Object(An.a)(pr)();return _.a.createElement(_.a.Fragment,null,_.a.createElement(Vn.a,{className:t.cardArea},_.a.createElement(sn.a,{container:!0,alignItems:"center"},_.a.createElement(sn.a,{item:!0,xs:2,sm:1},_.a.createElement(Er,e)),_.a.createElement(hn.a,{className:t.dividerArea,orientation:"vertical",flexItem:!0}),_.a.createElement(sn.a,{item:!0,xs:9,sm:!0},_.a.createElement(cr,e)))))},fr=a(465),Or=a(230),Tr=a.n(Or),hr=a(150),br=a.n(hr),_r=a(151),Ar=a.n(_r),Lr=a(461),vr=a(400),Ir=a(401),wr=a(398),yr=a(404),Rr=a(460),jr=a(403),Nr=a(459),Dr=function(e){return{addShowElement:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},multipleSelect:{border:"1px solid #C3C3C3",borderRadius:4},multipleSelectError:{border:"1px solid red",borderRadius:4},multipleSelectLabel:{background:"#FFF",paddingLeft:e.spacing(.5),paddingRight:e.spacing(1)},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,backgroundColor:e.palette.primary},lastElement:{paddingTop:e.spacing(1),paddingBottom:e.spacing(5)}}},xr=function(e){var t=e.onAddShowSubmit,a=e.isAddShowSubmitLoading,n=e.types,i=e.languages,o=e.genres,c=Object(An.a)(Dr)(),s=_.a.useState(""),l=Object(un.a)(s,2),u=l[0],d=l[1],m=_.a.useState(""),g=Object(un.a)(m,2),E=g[0],p=g[1],S=_.a.useState(!1),f=Object(un.a)(S,2),O=f[0],T=f[1],h=_.a.useState(""),b=Object(un.a)(h,2),A=b[0],L=b[1],v=_.a.useState(""),I=Object(un.a)(v,2),w=I[0],y=I[1],R=_.a.useState([]),j=Object(un.a)(R,2),N=j[0],D=j[1],x=_.a.useState(!1),G=Object(un.a)(x,2),U=G[0],C=G[1],k=function(e){e.preventDefault(),t({name:u,url:E,type:A,language:w,genres:N})};return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{container:!0,spacing:1,justify:"center",alignContent:"center"},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(sn.a,{container:!0,justify:"center",className:c.addShowElement},_.a.createElement(_n.a,{variant:"h4"},"Add Show")),_.a.createElement("form",{onSubmit:k},_.a.createElement(sn.a,{container:!0,justify:"center",className:c.addShowElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(Nr.a,{id:"name",variant:"outlined",label:"Name",placeholder:"The Shawshank Redemption",value:u,onChange:function(e){d(e.target.value)},InputLabelProps:{shrink:!0},autoFocus:!0,fullWidth:!0}))),_.a.createElement(sn.a,{container:!0,justify:"center",className:c.addShowElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(Nr.a,{id:"url",variant:"outlined",label:"URL (Optional)",placeholder:"",value:E,onChange:function(e){p(e.target.value)},onBlur:function(e){r.URL.test(e.target.value.trim())||""===e.target.value.trim()?T(!1):T(!0),p(e.target.value.trim())},error:O,helperText:O&&"Invalid URL format.",InputLabelProps:{shrink:!0},fullWidth:!0}))),_.a.createElement(sn.a,{container:!0,justify:"center",className:c.addShowElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(vr.a,{variant:"outlined",fullWidth:!0},_.a.createElement(yr.a,{id:"select-type-label"},"Type"),_.a.createElement(jr.a,{labelId:"select-type-label",id:"select-type",value:A,onChange:function(e){L(e.target.value)},labelWidth:35,fullWidth:!0},Object.values(n).map((function(e){return _.a.createElement(Rr.a,{key:e._id,value:e._id},e.name)})))))),_.a.createElement(sn.a,{container:!0,justify:"center",className:c.addShowElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(vr.a,{variant:"outlined",fullWidth:!0},_.a.createElement(yr.a,{id:"select-language-label"},"Language"),_.a.createElement(jr.a,{labelId:"select-language-label",id:"select-language",value:w,onChange:function(e){y(e.target.value)},labelWidth:67,fullWidth:!0},Object.values(i).map((function(e){return _.a.createElement(Rr.a,{key:e._id,value:e._id},e.name)})))))),_.a.createElement(sn.a,{container:!0,justify:"center",className:c.addShowElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(vr.a,{variant:"outlined",fullWidth:!0,error:U},_.a.createElement("div",{className:Object(Ln.a)(U?c.multipleSelectError:c.multipleSelect)},_.a.createElement(yr.a,{className:c.multipleSelectLabel,id:"select-genres-chip-label"},"Genre (Max 3)"),_.a.createElement(jr.a,{labelId:"select-genres-chip-label",id:"genres-chip",value:N,onChange:function(e){e.target.value.length>3?C(!0):C(!1),D(e.target.value)},labelWidth:67,input:_.a.createElement(wr.a,{id:"select-genres-chip"}),renderValue:function(e){return _.a.createElement(sn.a,{className:c.chips},e.map((function(e){return _.a.createElement(cn.a,{key:e,variant:"outlined",label:o[e].name,className:c.chip})})))},multiple:!0,fullWidth:!0},Object.values(o).map((function(e){return _.a.createElement(Rr.a,{key:e._id,value:e._id,style:(t=e._id,{fontWeight:-1===N.indexOf(t)?500:700})},e.name);var t})))),U&&_.a.createElement(Ir.a,null,"Can't add more than 3 genre.")))),_.a.createElement(sn.a,{container:!0,justify:"center",className:c.lastElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(mn.a,{variant:"outlined",color:"primary",size:"large",disabled:O||""===u,onClick:k,fullWidth:!0},a?_.a.createElement(Lr.a,null):"Add")))))))},Gr=a(462),Ur=function(e){var t=e.children,a=Object(Gr.a)({disableHysteresis:!0,threshold:0});return _.a.cloneElement(t,{style:a?{boxShadow:"0 5px 5px -5px #333"}:{boxShadow:"none"}})},Cr=a(463),kr=a(464),Pr=a(116),Fr=a.n(Pr),Wr=a(117),Hr=a.n(Wr),Vr=function(e){return{loginElement:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}},Mr=function(e){var t=e.handleOpenRegisterPopup,a=e.handleCloseLoginPopup,n=e.onLoginSubmit,i=e.isSubmitLoginLoading,o=Object(An.a)(Vr)(),c=_.a.useState(""),s=Object(un.a)(c,2),l=s[0],u=s[1],d=_.a.useState(!1),m=Object(un.a)(d,2),g=m[0],E=m[1],p=_.a.useState(""),S=Object(un.a)(p,2),f=S[0],O=S[1],T=_.a.useState(!1),h=Object(un.a)(T,2),b=h[0],A=h[1],L=function(e){e.preventDefault(),n(l.trim(),f)};return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{container:!0,spacing:1,justify:"center",alignContent:"center"},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(sn.a,{container:!0,justify:"center",className:o.loginElement},_.a.createElement(_n.a,{variant:"h4"},"Login")),_.a.createElement("form",{onSubmit:L},_.a.createElement(sn.a,{container:!0,justify:"center",className:o.loginElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(Nr.a,{id:"email",variant:"outlined",label:"Username",placeholder:"rajnikanth",value:l,onChange:function(e){r.USERNAME_TYPING.test(e.target.value)||""===e.target.value?E(!1):E(!0),u(e.target.value)},onBlur:function(e){r.USERNAME.test(e.target.value)||""===e.target.value?E(!1):E(!0)},error:g,helperText:g&&"Invalid username format.",InputLabelProps:{shrink:!0},autoFocus:!0,fullWidth:!0}))),_.a.createElement(sn.a,{container:!0,justify:"center",className:o.loginElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(Nr.a,{id:"password",variant:"outlined",type:b?"text":"password",label:"Password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:f,onChange:function(e){O(e.target.value)},InputLabelProps:{shrink:!0},InputProps:{endAdornment:_.a.createElement(Cr.a,{position:"end"},_.a.createElement(En.a,{"aria-label":"toggle password visibility",edge:"end",onClick:function(){A(!b)}},b?_.a.createElement(Fr.a,null):_.a.createElement(Hr.a,null)))},autoComplete:"true",fullWidth:!0}))),_.a.createElement(sn.a,{container:!0,justify:"center",className:o.loginElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(mn.a,{variant:"outlined",color:"primary",size:"large",disabled:g||""===l||""===f,onClick:L,fullWidth:!0},i?_.a.createElement(Lr.a,null):"Login"))))),_.a.createElement(sn.a,{container:!0,justify:"center",className:o.loginElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(sn.a,{container:!0,justify:"center"},_.a.createElement(_n.a,{variant:"subtitle1"},"Not our user yet?"," ",_.a.createElement(kr.a,{href:"",onClick:function(e){e.preventDefault(),a(),setTimeout(t,500)}},"Register Here.")))))))},Br=function(e){return{registerElement:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)}}},Yr=function(e){var t=e.handleOpenLoginPopup,a=e.handleCloseRegisterPopup,n=e.checkForUsername,i=e.isCheckUsernameLoading,o=e.isSubmitRegisterLoading,c=e.isValidUsername,s=e.onRegisterSubmit,l=Object(An.a)(Br)(),u=_.a.useState(""),d=Object(un.a)(u,2),m=d[0],g=d[1],E=_.a.useState(!1),p=Object(un.a)(E,2),S=p[0],f=p[1],O=_.a.useState(""),T=Object(un.a)(O,2),h=T[0],b=T[1],A=_.a.useState(!1),L=Object(un.a)(A,2),v=L[0],I=L[1];_.a.useEffect((function(){f(""!==m&&!c&&"This username is already taken.")}),[c,m]);var w=function(e){e.preventDefault(),s(m.trim(),h)};return _.a.createElement(_.a.Fragment,null,_.a.createElement(sn.a,{container:!0,spacing:1,justify:"center",alignContent:"center"},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(sn.a,{container:!0,justify:"center",className:l.registerElement},_.a.createElement(_n.a,{variant:"h4"},"Register")),_.a.createElement("form",{onSubmit:w},_.a.createElement(sn.a,{container:!0,justify:"center",className:l.registerElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(Nr.a,{id:"email",variant:"outlined",label:"Username",placeholder:"rajnikanth",value:m,onChange:function(e){c?r.USERNAME_TYPING.test(e.target.value)||""===e.target.value?f(!1):f("Invalid Username format"):f("This username is already taken."),g(e.target.value),""!==e.target.value&&n(e.target.value)},onBlur:function(e){c?r.USERNAME.test(e.target.value)||""===e.target.value?f(!1):f("Invalid Username format"):f("This username is already taken."),""!==e.target.value&&n(e.target.value)},error:!!S,helperText:!!S&&S,InputLabelProps:{shrink:!0},autoFocus:!0,fullWidth:!0}))),_.a.createElement(sn.a,{container:!0,justify:"center",className:l.registerElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(Nr.a,{id:"password",variant:"outlined",type:v?"text":"password",label:"Password",placeholder:"\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",value:h,onChange:function(e){b(e.target.value)},InputLabelProps:{shrink:!0},InputProps:{endAdornment:_.a.createElement(Cr.a,{position:"end"},_.a.createElement(En.a,{"aria-label":"toggle password visibility",edge:"end",onClick:function(){I(!v)}},v?_.a.createElement(Fr.a,null):_.a.createElement(Hr.a,null)))},autoComplete:"true",fullWidth:!0}))),_.a.createElement(sn.a,{container:!0,justify:"center",className:l.registerElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(mn.a,{variant:"outlined",color:"primary",size:"large",disabled:i||!!S||""===m||""===h,onClick:w,fullWidth:!0},o?_.a.createElement(Lr.a,null):"Register"))))),_.a.createElement(sn.a,{container:!0,justify:"center",className:l.registerElement},_.a.createElement(sn.a,{item:!0,xs:12,sm:10},_.a.createElement(sn.a,{container:!0,justify:"center"},_.a.createElement(_n.a,{variant:"subtitle1"},"Already registered?"," ",_.a.createElement(kr.a,{href:"",onClick:function(e){e.preventDefault(),a(),setTimeout(t,500)}},"Login Here.")))))))},zr=a(237),qr=a(229),Kr=a.n(qr),Xr=a(14),Qr=function(e){return{search:Object(ir.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Xr.c)(e.palette.primary.main,.15),"&:hover":{backgroundColor:Object(Xr.c)(e.palette.primary.main,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),color:e.palette.primary.dark,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"#000"},inputInput:Object(ir.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}},Zr=function(e){var t=e.getAllShows,a=e.addFilter,n=Object(An.a)(Qr)();return _.a.createElement(sn.a,{className:n.search},_.a.createElement(sn.a,{className:n.searchIcon},_.a.createElement(Kr.a,null)),_.a.createElement(zr.a,{onChange:function(e){a({q:e.target.value||""}),t()},placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}}))},$r=function(){return{navbar:{backgroundColor:"#F7F7F7"},logo:{cursor:"pointer",height:"7vh"}}},Jr=function(e){var t=e.redirectToPage,a=e.requestToShowToast,n=e.checkForUsername,r=e.onRegisterSubmit,i=e.onLoginSubmit,o=e.onAddShowSubmit,s=e.getAllShows,l=e.addFilter,u=e.logoutUser,d=e.isSubmitRegisterLoading,m=e.isSubmitLoginLoading,g=e.isAddShowSubmitLoading,E=e.isCheckUsernameLoading,p=e.isUserLoggedIn,S=e.isValidUsername,f=e.loginPopupState,O=e.setLoginPopupState,T=e.username,h=e.types,b=e.languages,A=e.genres,L=Object(An.a)($r)(),v=Object(rr.a)(),I=Object(Xn.a)(v.breakpoints.down("sm")),w=_.a.useState(!1),y=Object(un.a)(w,2),R=y[0],j=y[1],N=_.a.useState(!1),D=Object(un.a)(N,2),x=D[0],G=D[1];_.a.useEffect((function(){O(!1),j(!1)}),[p,O]),_.a.useEffect((function(){g||G(!1)}),[g]);var U=function(){O(!0)},C=function(){O(!1)},k=function(){j(!1)},P=function(){p?G(!0):(a(c.MESSAGE_VARIANTS.INFO,"You have to login first."),O(!0))},F=function(){p?G(!1):O(!1)};return _.a.createElement(_.a.Fragment,null,_.a.createElement(Ur,e,_.a.createElement(dn.a,{className:L.navbar,position:"sticky",elevation:0},_.a.createElement(pn.a,null,_.a.createElement(sn.a,{container:!0,justify:"space-between",alignItems:"center"},_.a.createElement(sn.a,{item:!0},_.a.createElement("img",{className:L.logo,src:I?"/bwg_mobile_logo.png":"/bwg_logo.png",alt:"Binge Watcher's Guide",onClick:function(){return t("/")}})),_.a.createElement(sn.a,{item:!0},_.a.createElement(sn.a,{container:!0,justify:"space-between",alignItems:"center"},!I&&_.a.createElement(sn.a,{item:!0,xs:!0},_.a.createElement(Zr,{getAllShows:s,addFilter:l})),_.a.createElement(sn.a,{item:!0,xs:!0},I?_.a.createElement(En.a,{onClick:P},_.a.createElement(br.a,{color:"primary"})):_.a.createElement(sn.a,{container:!0,justify:"center",alignItems:"center"},_.a.createElement(mn.a,{color:"primary",size:"large",startIcon:_.a.createElement(br.a,null),onClick:P},"Add your entry"))),_.a.createElement(sn.a,{item:!0,xs:!0},p?_.a.createElement(sn.a,{container:!0,justify:"center",alignItems:"center"},_.a.createElement(mn.a,{color:"primary",size:"large",startIcon:_.a.createElement(Tr.a,null),onClick:function(){u()}},"Logout (",T,")")):I?_.a.createElement(En.a,{onClick:U},_.a.createElement(Ar.a,{color:"primary"})):_.a.createElement(sn.a,{container:!0,justify:"center",alignItems:"center"},_.a.createElement(mn.a,{color:"primary",size:"large",startIcon:_.a.createElement(Ar.a,null),onClick:U},"Login"))))))))),_.a.createElement(gn.a,{open:f,TransitionComponent:Wn,fullWidth:!0,maxWidth:"sm",keepMounted:!1,onClose:C},_.a.createElement(fr.a,null,_.a.createElement(sn.a,{container:!0},_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(En.a,{onClick:C},_.a.createElement(fn.a,null)))),_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(Mr,{onLoginSubmit:i,isSubmitLoginLoading:m,handleOpenRegisterPopup:function(){j(!0)},handleCloseLoginPopup:C}))))),_.a.createElement(gn.a,{open:R,TransitionComponent:Wn,fullWidth:!0,maxWidth:"sm",keepMounted:!1,onClose:k},_.a.createElement(fr.a,null,_.a.createElement(sn.a,{container:!0},_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(En.a,{onClick:k},_.a.createElement(fn.a,null)))),_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(Yr,{checkForUsername:n,isSubmitRegisterLoading:d,isCheckUsernameLoading:E,isValidUsername:S,onRegisterSubmit:r,handleOpenLoginPopup:U,handleCloseRegisterPopup:k}))))),_.a.createElement(gn.a,{open:x,TransitionComponent:Wn,fullWidth:!0,maxWidth:"sm",keepMounted:!1,onClose:F},_.a.createElement(fr.a,null,_.a.createElement(sn.a,{container:!0},_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"flex-end"},_.a.createElement(En.a,{onClick:F},_.a.createElement(fn.a,null)))),_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(xr,{isAddShowSubmitLoading:g,onAddShowSubmit:o,types:h,languages:b,genres:A}))))))},ei=function(e){function t(e){var a;return Object(en.a)(this,t),(a=Object(an.a)(this,Object(nn.a)(t).call(this,e))).setLoginPopupState=function(e){a.setState({loginPopupState:e})},a.handleOnDeleteValue=function(e){var t=a.props,n=t.removeFilter,r=t.getAllShows;e.type===c.FILTER_TYPES.TYPE?n({type:e._id}):e.type===c.FILTER_TYPES.LANGUAGE?n({language:e._id}):e.type===c.FILTER_TYPES.GENRE&&n({genre:e._id}),r()},a.state={loginPopupState:!1},a}return Object(rn.a)(t,e),Object(tn.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.getAllStatics,a=e.getAllShows,n=e.userId;t(),a({userId:n})}},{key:"render",value:function(){var e=this,t=this.props,a=t.redirectToPage,n=t.requestToShowToast,r=t.getAllShows,i=t.addFilter,o=t.removeFilter,c=t.resetFilter,s=t.checkForUsername,l=t.onRegisterSubmit,u=t.onLoginSubmit,d=t.onAddShowSubmit,m=t.onUpvoteShow,g=t.onDownvoteShow,E=t.logoutUser,p=t.isGetStaticsLoading,S=t.isCheckUsernameLoading,f=t.isSubmitLoginLoading,O=t.isSubmitRegisterLoading,T=t.isAddShowSubmitLoading,h=t.isUserLoggedIn,b=t.isValidUsername,A=t.userId,L=t.username,v=t.types,I=t.languages,w=t.genres,y=t.shows,R=t.appliedFilters,j=this.state.loginPopupState,N=R&&R.length>0&&R.map((function(t){return _.a.createElement(cn.a,{key:t._id+" "+t.type,variant:"outlined",color:"primary",label:t.name,onDelete:function(){return e.handleOnDeleteValue(t)},style:{padding:".25rem",margin:".5rem"}})}));return _.a.createElement(_.a.Fragment,null,p?_.a.createElement(Kn,{loading:p}):_.a.createElement(_.a.Fragment,null,_.a.createElement(_.a.Fragment,null,_.a.createElement(Jr,{loginPopupState:j,setLoginPopupState:this.setLoginPopupState,redirectToPage:a,requestToShowToast:n,checkForUsername:s,onRegisterSubmit:l,onLoginSubmit:u,onAddShowSubmit:d,getAllShows:r,addFilter:i,logoutUser:E,isSubmitLoginLoading:f,isSubmitRegisterLoading:O,isAddShowSubmitLoading:T,isCheckUsernameLoading:S,isUserLoggedIn:h,isValidUsername:b,username:L,types:v,languages:I,genres:w})),_.a.createElement(sn.a,{container:!0,justify:"flex-start"},_.a.createElement(ln.a,{mdUp:!0},_.a.createElement(sn.a,{container:!0,justify:"center",style:{paddingTop:"1rem"}},_.a.createElement(sn.a,{item:!0,xs:8},_.a.createElement(Zr,{getAllShows:r,addFilter:i})),_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(Hn,{userId:A,getAllShows:r,addFilter:i,removeFilter:o,resetFilter:c,appliedFilters:R,types:v,languages:I,genres:w})),_.a.createElement(sn.a,{item:!0,xs:12},_.a.createElement(sn.a,{container:!0,justify:"center"},_.a.createElement(sn.a,{item:!0,xs:10},N))))),_.a.createElement(sn.a,{item:!0,xs:12,md:8},y.map((function(t){return _.a.createElement(Sr,Object.assign({key:t._id,isUserLoggedIn:h,requestToShowToast:n,onUpvoteShow:m,onDownvoteShow:g,loginPopupState:j,setLoginPopupState:e.setLoginPopupState},t,{type:v&&v[t.type]&&v[t.type].name,language:I&&I[t.language]&&I[t.language].name,genres:t.genres.map((function(e){return w&&w[e]&&w[e].name}))}))}))),_.a.createElement(ln.a,{smDown:!0},_.a.createElement(sn.a,{item:!0,md:!0},_.a.createElement(Yn,{userId:A,getAllShows:r,addFilter:i,removeFilter:o,resetFilter:c,appliedFilters:R,types:v,languages:I,genres:w}))))))}}]),t}(b.Component),ti=Object(Pt.b)({isGetStaticsLoading:S.getStaticsLoadingState(),isGetAllShowsLoading:S.getAllShowsLoadingState(),isCheckUsernameLoading:S.getCheckUsernameLoadingState(),isSubmitLoginLoading:S.getLoginLoadingState(),isSubmitRegisterLoading:S.getRegisterLoadingState(),isAddShowSubmitLoading:S.getAddShowSubmitLoadingState(),isUserLoggedIn:h.isUserLoggedIn(),isValidUsername:h.isValidUsername(),userId:h.getCurrentUserId(),username:h.getCurrentUsername(),types:O.getAllTypes(),languages:O.getAllLanguages(),genres:O.getAllGenres(),shows:f.getAllShows(),appliedFilters:O.getAppliedFilters()}),ai=Object(y.c)(ti,(function(e){return{redirectToPage:function(t){return e(Object(on.d)(t))},getAllStatics:function(){return e(l.startGetStaticsLoading()),e(g.getAllStatics())},getAllShows:function(){return e(m.getAllShows())},addFilter:function(t){return e(g.addFilter(t))},removeFilter:function(t){return e(g.removeFilter(t))},resetFilter:function(){return e(g.resetFilter())},requestToShowToast:function(t,a){return e(E.requestToShowToast(t,a))},checkForUsername:function(t){return e(l.startCheckUsernameLoading()),e(d.checkUsername(t))},onRegisterSubmit:function(t,a){return e(l.startRegisterLoading()),e(d.registerUser(t,a))},onLoginSubmit:function(t,a){return e(l.startLoginLoading()),e(u.submitForLogin(t,a))},onAddShowSubmit:function(t){return e(l.startAddShowLoading()),e(m.addShow(t))},logoutUser:function(){return fe(),e(m.resetVotes()),e(p.resetUserData())},onUpvoteShow:function(t,a){return e(l.startVoteShowLoading()),e(m.upvoteShow(t,a))},onDownvoteShow:function(t,a){return e(l.startVoteShowLoading()),e(m.downvoteShow(t,a))}}}))(ei),ni=a(475),ri=a(467),ii=a(6),oi=a(231),ci=a.n(oi),si=a(233),li=a.n(si),ui=a(234),di=a.n(ui),mi=a(232),gi=a.n(mi),Ei=a(152),pi=a.n(Ei),Si=a(123),fi=a(121),Oi=a(122),Ti=a(466),hi=function(e){return{success:{backgroundColor:Si.a[600]},error:{backgroundColor:fi.a[500]},info:{backgroundColor:Oi.a[400]},warning:{backgroundColor:Ti.a[800]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}},bi=function(e){function t(){var e,a;Object(en.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(an.a)(this,(e=Object(nn.a)(t)).call.apply(e,[this].concat(r)))).onClose=function(){(0,a.props.hideToast)()},a}return Object(rn.a)(t,e),Object(tn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.toastState,a=e.toastMessage,n=e.toastVariant,r=e.classes,i={success:ci.a,warning:gi.a,error:li.a,info:di.a}[n],o=n&&_.a.createElement(i,{className:Object(Ln.a)(r.icon,r.iconVariant)});return _.a.createElement(ni.a,{autoHideDuration:3e3,open:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.onClose,transitionDuration:100,action:[_.a.createElement(En.a,{key:"close","aria-label":"close",color:"inherit",onClick:this.onClose},_.a.createElement(pi.a,null))]},_.a.createElement(ri.a,{className:Object(Ln.a)(r[n],r.icon),message:_.a.createElement("span",{id:"snackbar-message",className:r.message},o,a),action:[_.a.createElement(En.a,{key:"close","aria-label":"close",color:"inherit",onClick:this.onClose},_.a.createElement(pi.a,{className:r.icon}))]}))}}]),t}(b.Component),_i=Object(Pt.b)({toastState:T.getToastState(),toastMessage:T.getToastMessage(),toastVariant:T.getToastVariant()}),Ai=Object(y.c)(_i,(function(e){return{hideToast:function(){return e(E.hideToast())}}}))(Object(ii.a)(hi)(bi)),Li=Object(b.lazy)((function(){return a.e(3).then(a.bind(null,476))})),vi=function(){return _.a.createElement(y.a,{store:Za},_.a.createElement(w.Helmet,{titleTemplate:"%s - Binge Watcher's Guide",defaultTitle:"Binge Watcher's Guide - Complete Movie and Series Directory"},_.a.createElement("meta",{name:"description",content:"Binge Watcher's Guide - Complete Movie and Series Directory"})),_.a.createElement(I.a,{history:N},_.a.createElement(Ai,null),_.a.createElement(v.a,{theme:Ja},_.a.createElement(b.Suspense,{fallback:_.a.createElement(Kn,null)},_.a.createElement(R.c,null,_.a.createElement(R.a,{exact:!0,path:"/",component:ai}),_.a.createElement(R.a,{component:Li}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));L.a.render(_.a.createElement(vi,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[257,1,2]]]);
//# sourceMappingURL=main.0aa12a58.chunk.js.map